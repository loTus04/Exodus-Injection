(window.webpackJsonp=window.webpackJsonp||[]).push([[297],{4258:function(e,r,t){"use strict";t.r(r);var i=t(905),s=t.n(i),a=t(155),o=t(4),n=t(469),d=t(896);class DGBCoin extends(Object(n.d)(Object(n.b)(a.a))){constructor({alias:e,feeData:r,explorers:t,txWebUrl:i,socket:a}){super({alias:e,name:"DigiByte",ticker:"DGB",decimal:8,derivation:"m/44'/20'/0'/0/0",unspendableBalance:"0",explorers:t,txWebUrl:i,socket:a}),this.plugins=[new d.a],this.feeData=r,this.feePerByte=r.feePerByte,this.coefficient=r.coefficient,this.coreLibrary=s.a,this.network={name:"digibyte-livenet",alias:"digibyte-mainnet",pubkeyhash:30,privatekey:128,scripthash:5,xpubkey:76067358,xprivkey:76066276,networkMagic:4207130330,port:12024,dnsSeeds:["seed.digibyte.co","seed.digibyte.io","digiexplorer.info"]}}async createTransaction({address:e,amount:r,memo:t,userFee:i}){const s=await this.getCoins({address:e,value:Number(r),feePerByte:Number(this.feeData.feePerByte)});if(i&&s.fee>i)throw new Error("userFee is more then utxo fee");const a=this.coreLibrary.Networks.add(this.network),o=this.createTransactionSync(s);return this.coreLibrary.Networks.remove(a),o}loadWallet(e){return new Promise((r,t)=>{const i=this.coreLibrary.Networks.add(this.network),s=this.coreLibrary.HDPrivateKey.fromSeed(e,i),{privateKey:a}=s[this.getDeriveFunctionName()](this.derivation);a||t(new o.i({type:"LOAD_WALLET_ERROR",error:"can't derive privateKey!",instance:this})),this.privateKey=a.toWIF(),this.address=this.getAddress(i),this.coreLibrary.Networks.remove(i),r(this)})}async validateAddress(e){const r=this.coreLibrary.Networks.add(this.network),t=this.coreLibrary.Address.isValid(e||this.address,r);return this.coreLibrary.Networks.remove(r),t}getAddress(e){return this.privateKey?this.coreLibrary.PrivateKey.fromWIF(this.privateKey.toString()).toAddress(e).toString():new Error(this.ticker+" privateKey is empty!!!")}getScriptPubKey(){const e=this.coreLibrary.Networks.add(this.network),r=this.coreLibrary.Script.fromAddress(this.address).toHex();return this.coreLibrary.Networks.remove(e),r}}r.default=DGBCoin}}]);