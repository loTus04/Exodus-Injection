(window.webpackJsonp=window.webpackJsonp||[]).push([[114],{1006:function(t,e,n){var r=n(1007);function i(){if(!(this instanceof i))return new i;this.reg=new Array(8),this.chunk=[],this.size=0,this.reset()}function o(t,e){return(t<<(e%=32)|t>>>32-e)>>>0}function s(t){return 0<=t&&t<16?2043430169:16<=t&&t<64?2055708042:void console.error("invalid j for constant Tj")}function a(t,e,n,r){return 0<=t&&t<16?(e^n^r)>>>0:16<=t&&t<64?(e&n|e&r|n&r)>>>0:(console.error("invalid j for bool function FF"),0)}function c(t,e,n,r){return 0<=t&&t<16?(e^n^r)>>>0:16<=t&&t<64?(e&n|~e&r)>>>0:(console.error("invalid j for bool function GG"),0)}t.exports=i,i.prototype.reset=function(){this.reg[0]=1937774191,this.reg[1]=1226093241,this.reg[2]=388252375,this.reg[3]=3666478592,this.reg[4]=2842636476,this.reg[5]=372324522,this.reg[6]=3817729613,this.reg[7]=2969243214,this.chunk=[],this.size=0},i.prototype.write=function(t){var e="string"==typeof t?r.strToBytes(t):t;this.size+=e.length;var n=64-this.chunk.length;if(e.length<n)this.chunk=this.chunk.concat(e);else for(this.chunk=this.chunk.concat(e.slice(0,n));this.chunk.length>=64;)this._compress(this.chunk),n<e.length?this.chunk=e.slice(n,Math.min(n+64,e.length)):this.chunk=[],n+=64},i.prototype.sum=function(t,e){t&&(this.reset(),this.write(t)),this._fill();for(var n=0;n<this.chunk.length;n+=64)this._compress(this.chunk.slice(n,n+64));var i=null;if("hex"==e){i="";for(n=0;n<8;n++)i+=r.padStart(this.reg[n].toString(16),8,"0")}else for(i=new Array(32),n=0;n<8;n++)h=this.reg[n],i[4*n+3]=(255&h)>>>0,h>>>=8,i[4*n+2]=(255&h)>>>0,h>>>=8,i[4*n+1]=(255&h)>>>0,h>>>=8,i[4*n]=(255&h)>>>0;return this.reset(),i},i.prototype._compress=function(t){if(t<64)console.error("compress error: not enough data");else{for(var e=function(t){for(var e=new Array(132),n=0;n<16;n++)e[n]=t[4*n]<<24,e[n]|=t[4*n+1]<<16,e[n]|=t[4*n+2]<<8,e[n]|=t[4*n+3],e[n]>>>=0;for(var r=16;r<68;r++)x=e[r-16]^e[r-9]^o(e[r-3],15),x=x^o(x,15)^o(x,23),e[r]=(x^o(e[r-13],7)^e[r-6])>>>0;for(r=0;r<64;r++)e[r+68]=(e[r]^e[r+4])>>>0;return e}(t),n=this.reg.slice(0),r=0;r<64;r++){var i=o(n[0],12)+n[4]+o(s(r),r),u=((i=o(i=(4294967295&i)>>>0,7))^o(n[0],12))>>>0,h=a(r,n[0],n[1],n[2]);h=(4294967295&(h=h+n[3]+u+e[r+68]))>>>0;var l=c(r,n[4],n[5],n[6]);l=(4294967295&(l=l+n[7]+i+e[r]))>>>0,n[3]=n[2],n[2]=o(n[1],9),n[1]=n[0],n[0]=h,n[7]=n[6],n[6]=o(n[5],19),n[5]=n[4],n[4]=(l^o(l,9)^o(l,17))>>>0}for(var f=0;f<8;f++)this.reg[f]=(this.reg[f]^n[f])>>>0}},i.prototype._fill=function(){var t=8*this.size,e=this.chunk.push(128)%64;for(64-e<8&&(e-=64);e<56;e++)this.chunk.push(0);for(var n=0;n<4;n++){var r=Math.floor(t/4294967296);this.chunk.push(r>>>8*(3-n)&255)}for(n=0;n<4;n++)this.chunk.push(t>>>8*(3-n)&255)}},1007:function(t,e,n){var r=e,i=n(16),o=n(27);r.strToBytes=function(t){for(var e,n,r=[],i=0;i<t.length;i++){e=t.charCodeAt(i),n=[];do{n.push(255&e),e>>=8}while(e);r=r.concat(n.reverse())}return r},r.hashToBN=function(t){if("string"==typeof t)return new i(t,16);for(var e="",n=0;n<t.length;n++){var r=t[n].toString(16);1==r.length&&(e+="0"),e+=r}return new i(e,16)},r.random=function(t){return o.randomBytes(t).toString("hex")},r.padStart=function(t,e,n){return t.length>=e?t:n.repeat(e-t.length)+t}},1170:function(t,e,n){"use strict";var r=n(17),i=n(173),o=n(2418),s=n(2419);function a(t,e,n,r,a){var c=i.addPath(t,e),u=this;o.call(this,t,n),this.poll=new s(r,c,a),this.poll.on("message",(function(t){u.emit("message",t)})),this.poll.once("close",(function(t,e){u.poll=null,u.emit("close",t,e),u.close()}))}r(a,o),a.prototype.close=function(){o.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},t.exports=a},1171:function(t,e,n){"use strict";var r=n(60).EventEmitter,i=n(17),o=n(253),s=n(173),a=global.XMLHttpRequest;function c(t,e,n,i){var o=this;r.call(this),setTimeout((function(){o._start(t,e,n,i)}),0)}i(c,r),c.prototype._start=function(t,e,n,r){var i=this;try{this.xhr=new a}catch(t){}if(!this.xhr)return this.emit("finish",0,"no xhr support"),void this._cleanup();e=s.addQuery(e,"t="+ +new Date),this.unloadRef=o.unloadAdd((function(){i._cleanup(!0)}));try{this.xhr.open(t,e,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){i.emit("finish",0,""),i._cleanup(!1)})}catch(t){return this.emit("finish",0,""),void this._cleanup(!1)}if(r&&r.noCredentials||!c.supportsCORS||(this.xhr.withCredentials="true"),r&&r.headers)for(var u in r.headers)this.xhr.setRequestHeader(u,r.headers[u]);this.xhr.onreadystatechange=function(){if(i.xhr){var t,e,n=i.xhr;switch(n.readyState,n.readyState){case 3:try{e=n.status,t=n.responseText}catch(t){}1223===e&&(e=204),200===e&&t&&t.length>0&&i.emit("chunk",e,t);break;case 4:1223===(e=n.status)&&(e=204),12005!==e&&12029!==e||(e=0),n.responseText,i.emit("finish",e,n.responseText),i._cleanup(!1)}}};try{i.xhr.send(n)}catch(t){i.emit("finish",0,""),i._cleanup(!1)}},c.prototype._cleanup=function(t){if(this.xhr){if(this.removeAllListeners(),o.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),t)try{this.xhr.abort()}catch(t){}this.unloadRef=this.xhr=null}},c.prototype.close=function(){this._cleanup(!0)},c.enabled=!!a;var u=["Active"].concat("Object").join("X");!c.enabled&&u in global&&(a=function(){try{return new global[u]("Microsoft.XMLHTTP")}catch(t){return null}},c.enabled=!!new a);var h=!1;try{h="withCredentials"in new a}catch(t){}c.supportsCORS=h,t.exports=c},1172:function(t,e,n){"use strict";var r=n(17),i=n(343),o=n(525),s=n(742);function a(t){if(!s.enabled)throw new Error("Transport created when disabled");i.call(this,t,"/xhr_streaming",o,s)}r(a,i),a.enabled=function(t){return!t.cookie_needed&&!t.nullOrigin&&(s.enabled&&t.sameScheme)},a.transportName="xdr-streaming",a.roundTrips=2,t.exports=a},1173:function(t,e,n){"use strict";var r=n(17),i=n(343),o=n(2420),s=n(526),a=n(1174);function c(t){if(!c.enabled())throw new Error("Transport created when disabled");i.call(this,t,"/eventsource",o,s)}r(c,i),c.enabled=function(){return!!a},c.transportName="eventsource",c.roundTrips=2,t.exports=c},1174:function(t,e){t.exports=global.EventSource},1175:function(t,e,n){"use strict";var r=n(17),i=n(232),o=n(60).EventEmitter,s=n(1176),a=n(173),c=n(433),u=n(253),h=n(342);function l(t,e,n){if(!l.enabled())throw new Error("Transport created when disabled");o.call(this);var r=this;this.origin=a.getOrigin(n),this.baseUrl=n,this.transUrl=e,this.transport=t,this.windowId=h.string(8);var i=a.addPath(n,"/iframe.html")+"#"+this.windowId;this.iframeObj=c.createIframe(i,(function(t){r.emit("close",1006,"Unable to load an iframe ("+t+")"),r.close()})),this.onmessageCallback=this._message.bind(this),u.attachEvent("message",this.onmessageCallback)}r(l,o),l.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){u.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(t){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},l.prototype._message=function(t){if(t.data,!a.isOriginEqual(t.origin,this.origin))return t.origin,void this.origin;var e;try{e=i.parse(t.data)}catch(e){return void t.data}if(e.windowId!==this.windowId)return e.windowId,void this.windowId;switch(e.type){case"s":this.iframeObj.loaded(),this.postMessage("s",i.stringify([s,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",e.data);break;case"c":var n;try{n=i.parse(e.data)}catch(t){return void e.data}this.emit("close",n[0],n[1]),this.close()}},l.prototype.postMessage=function(t,e){this.iframeObj.post(i.stringify({windowId:this.windowId,type:t,data:e||""}),this.origin)},l.prototype.send=function(t){this.postMessage("m",t)},l.enabled=function(){return c.iframeEnabled},l.transportName="iframe",l.roundTrips=2,t.exports=l},1176:function(t,e){t.exports="1.1.4"},1177:function(t,e,n){"use strict";var r=n(17),i=n(2421),o=n(431),s=n(343);function a(t){if(!i.enabled)throw new Error("Transport created when disabled");s.call(this,t,"/htmlfile",i,o)}r(a,s),a.enabled=function(t){return i.enabled&&t.sameOrigin},a.transportName="htmlfile",a.roundTrips=2,t.exports=a},1178:function(t,e,n){"use strict";var r=n(17),i=n(343),o=n(525),s=n(526),a=n(431);function c(t){if(!a.enabled&&!s.enabled)throw new Error("Transport created when disabled");i.call(this,t,"/xhr",o,s)}r(c,i),c.enabled=function(t){return!t.nullOrigin&&(!(!a.enabled||!t.sameOrigin)||s.enabled)},c.transportName="xhr-polling",c.roundTrips=2,t.exports=c},1179:function(t,e,n){"use strict";t.exports=global.location||{origin:"http://localhost:80",protocol:"http",host:"localhost",port:80,href:"http://localhost/",hash:""}},1180:function(t,e,n){"use strict";var r=n(17),i=n(60).EventEmitter,o=n(232),s=n(431),a=n(1181);function c(t){var e=this;i.call(this),this.ir=new a(t,s),this.ir.once("finish",(function(t,n){e.ir=null,e.emit("message",o.stringify([t,n]))}))}r(c,i),c.transportName="iframe-info-receiver",c.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},t.exports=c},1181:function(t,e,n){"use strict";var r=n(60).EventEmitter,i=n(17),o=n(232),s=n(744);function a(t,e){r.call(this);var n=this,i=+new Date;this.xo=new e("GET",t),this.xo.once("finish",(function(t,e){var r,a;if(200===t){if(a=+new Date-i,e)try{r=o.parse(e)}catch(t){}s.isObject(r)||(r={})}n.emit("finish",r,a),n.removeAllListeners()}))}i(a,r),a.prototype.close=function(){this.removeAllListeners(),this.xo.close()},t.exports=a},173:function(t,e,n){"use strict";var r=n(1169);t.exports={getOrigin:function(t){if(!t)return null;var e=new r(t);if("file:"===e.protocol)return null;var n=e.port;return n||(n="https:"===e.protocol?"443":"80"),e.protocol+"//"+e.hostname+":"+n},isOriginEqual:function(t,e){var n=this.getOrigin(t)===this.getOrigin(e);return n},isSchemeEqual:function(t,e){return t.split(":")[0]===e.split(":")[0]},addPath:function(t,e){var n=t.split("?");return n[0]+e+(n[1]?"?"+n[1]:"")},addQuery:function(t,e){return t+(-1===t.indexOf("?")?"?"+e:"&"+e)}}},1819:function(t,e,n){var r=n(945),i=n(405)("socket.io-client:url");t.exports=function(t,e){var n=t;e=e||"undefined"!=typeof location&&location,null==t&&(t=e.protocol+"//"+e.host);"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?e.protocol+t:e.host+t),/^(https?|wss?):\/\//.test(t)||(i("protocol-less url %s",t),t=void 0!==e?e.protocol+"//"+t:"https://"+t),i("parse %s",t),n=r(t));n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443"));n.path=n.path||"/";var o=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port,n.href=n.protocol+"://"+o+(e&&e.port===n.port?"":":"+n.port),n}},1820:function(t,e,n){function r(t){var n;function r(){if(r.enabled){var t=r,i=+new Date,o=i-(n||i);t.diff=o,t.prev=n,t.curr=i,n=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=e.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var c=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;c++;var i=e.formatters[r];if("function"==typeof i){var o=s[c];n=i.call(t,o),s.splice(c,1),c--}return n})),e.formatArgs.call(t,s);var u=r.log||e.log||console.log.bind(console);u.apply(t,s)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=function(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),r.destroy=i,"function"==typeof e.init&&e.init(r),e.instances.push(r),r}function i(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=r.debug=r.default=r).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var n;e.save(t),e.names=[],e.skips=[];var r=("string"==typeof t?t:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(t=r[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var o=e.instances[n];o.enabled=e.enabled(o.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(1821),e.instances=[],e.names=[],e.skips=[],e.formatters={}},1821:function(t,e){var n=1e3,r=6e4,i=60*r,o=24*i;function s(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}t.exports=function(t,e){e=e||{};var a,c=typeof t;if("string"===c&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var s=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(t);if("number"===c&&!1===isNaN(t))return e.long?s(a=t,o,"day")||s(a,i,"hour")||s(a,r,"minute")||s(a,n,"second")||a+" ms":function(t){if(t>=o)return Math.round(t/o)+"d";if(t>=i)return Math.round(t/i)+"h";if(t>=r)return Math.round(t/r)+"m";if(t>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},1822:function(t,e,n){function r(t){if(t)return function(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}(t)}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<r.length;i++)if((n=r[i])===e||n.fn===e){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+t],this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},1823:function(t,e,n){var r=n(946),i=n(947),o=Object.prototype.toString,s="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===o.call(Blob),a="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===o.call(File);e.deconstructPacket=function(t){var e=[],n=t.data,o=t;return o.data=function t(e,n){if(!e)return e;if(i(e)){var o={_placeholder:!0,num:n.length};return n.push(e),o}if(r(e)){for(var s=new Array(e.length),a=0;a<e.length;a++)s[a]=t(e[a],n);return s}if("object"==typeof e&&!(e instanceof Date)){s={};for(var c in e)s[c]=t(e[c],n);return s}return e}(n,e),o.attachments=e.length,{packet:o,buffers:e}},e.reconstructPacket=function(t,e){return t.data=function t(e,n){if(!e)return e;if(e&&e._placeholder)return n[e.num];if(r(e))for(var i=0;i<e.length;i++)e[i]=t(e[i],n);else if("object"==typeof e)for(var o in e)e[o]=t(e[o],n);return e}(t.data,e),t.attachments=void 0,t},e.removeBlobs=function(t,e){var n=0,o=t;!function t(c,u,h){if(!c)return c;if(s&&c instanceof Blob||a&&c instanceof File){n++;var l=new FileReader;l.onload=function(){h?h[u]=this.result:o=this.result,--n||e(o)},l.readAsArrayBuffer(c)}else if(r(c))for(var f=0;f<c.length;f++)t(c[f],f,c);else if("object"==typeof c&&!i(c))for(var p in c)t(c[p],p,c)}(o),n||e(o)}},1980:function(t,e,n){var r=e;r.sm2=n(1981),r.sm3=n(1006),r.version=n(1982).version},1981:function(t,e,n){var r=n(1006),i=n(1007),o=n(84),s=n(16),a=n(658),c=n(121),u=n(17),l=new a({hash:c.sha256,entropy:"UQi4W3Y2bJfzleYy+oEZ2kA9A+9jrmwewST9vmBZNgMmFyzzH0S9Vol/UK",nonce:"0123456789avcdef",pers:"0123456789abcdef"});function f(t){if(!(this instanceof f))return new f(t);o.curve.short.call(this,t)}u(f,o.curve.short);var p={type:"SM2",prime:null,p:"FFFFFFFE FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFF 00000000 FFFFFFFF FFFFFFFF",a:"FFFFFFFE FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFF 00000000 FFFFFFFF FFFFFFFC",b:"28E9FA9E 9D9F5E34 4D5A9E4B CF6509A7 F39789F5 15AB8F92 DDBCBD41 4D940E93",n:"FFFFFFFE FFFFFFFF FFFFFFFF FFFFFFFF 7203DF6B 21C6052B 53BBF409 39D54123",hash:r,gRed:!1,g:["32C4AE2C 1F198119 5F990446 6A39C994 8FE30BBF F2660BE1 715A4589 334C74C7","BC3736A2 F4F6779C 59BDCEE3 6B692153 D0A9877C C62A4740 02DF32E5 2139F0A0"]};function d(t,e,n){if(null==t)return SM2.point();var r;if(null!=e){if(r=SM2.point(t,e),!SM2.validate(r))throw"point is not on curve"}else{var i=new s(t,16).toRed(SM2.red),o=i.redSqr().redMul(i);"odd"===n!=(o=o.redIAdd(i.redMul(SM2.a)).redIAdd(SM2.b).redSqrt()).fromRed().isOdd()&&(o=o.redNeg()),r=SM2.point(i,o)}return r}function y(t,e){if(!(this instanceof y))return new y(t,e);this.curve=SM2,this.pub=null,this.pri=null;var n=!1,r=!1;if(null!=t)if("string"==typeof t)this._pubFromString(t);else if(Array.isArray(t))this._pubFromBytes(t);else{if(!("x"in t&&t.x instanceof s&&"y"in t&&t.y instanceof s))throw"invalid public key";this.pub=t,n=!0}if(null!=e){if("string"==typeof e)this.pri=new s(e,16);else{if(!(e instanceof s))throw"invalid private key";this.pri=e,r=!0}null==this.pub&&(this.pub=SM2.g.mul(this.pri))}if(!(n&&r||this.validate()))throw"invalid key"}e.curve=SM2=f(p),e.SM2KeyPair=y,e.genKeyPair=function(){var t=0,e=SM2.n.sub(new s(2));do{t=new s(l.generate(32,"hex",i.random(64)))}while(t.cmp(e)>0);return new y(null,t)},y.prototype._pubFromString=function(t){var e="invalid key string";if(t.length<66)throw e;var n=t.slice(2,66);switch(t.slice(0,2)){case"00":throw"public key should not be infinity";case"02":this.pub=d(n,null,"even");break;case"03":this.pub=d(n,null,"odd");break;case"04":case"06":case"07":if(t.length<130)throw e;this.pub=d(n,t.slice(66,130));break;default:throw e}},y.prototype._pubFromBytes=function(t){var e="unrecognized key";if(t.length<33)throw e;var n=t.slice(1,33);switch(t[0]){case 0:throw"public key should not be infinity";case 2:this.pub=d(n,null,"even");break;case 3:this.pub=d(n,null,"odd");break;case 4:case 6:case 7:if(t.length<65)throw e;this.pub=d(n,t.slice(33,65));break;default:throw e}},y.prototype.validate=function(){if(null!=this.pub){if(this.pub.isInfinity())return!1;if(!this.curve.validate(this.pub))return!1;if(!this.pub.mul(this.curve.n).isInfinity())return!1}if(null!=this.pri){if(this.pri.cmp(this.curve.n.sub(new s(2)))>0)return!1;if(null!=this.pub&&!this.pub.eq(this.curve.g.mul(this.pri)))return!1}return!0},y.prototype.pubToString=function(t){var e="";switch(t){case"compress":return(e=this.pub.getY().isEven()?"02":"03")+this.pub.getX().toString(16,32);case"mix":e=this.pub.getY().isEven()?"06":"07";break;default:e="04"}return e+this.pub.getX().toString(16,32)+this.pub.getY().toString(16,32)},y.prototype.pubToBytes=function(t){var e=[];switch(t){case"compress":return this.pub.getY().isEven()?e.push(2):e.push(3),e.concat(this.pub.getX().toArray("be",32));case"mix":this.pub.getY().isEven()?e.push(6):e.push(7);break;default:e.push(4)}return e.concat(this.pub.getX().toArray("be",32)).concat(this.pub.getY().toArray("be",32))},y.prototype.sign=function(t){if(null==this.pri)throw"cannot sign message without private key";return"string"==typeof t?this.signDigest((new r).sum(this._combine(i.strToBytes(t)))):this.signDigest((new r).sum(this._combine(t)))},y.prototype.verify=function(t,e,n){if(null==this.pub)throw"cannot verify signature without public key";return this.verifyDigest((new r).sum(this._combine(t)),e,n)},y.prototype.signRaw=function(t){return this.signDigest((new r).sum(t))},y.prototype.verifyRaw=function(t,e,n){return this.verifyDigest((new r).sum(t),e,n)},y.prototype.signDigest=function(t){for(var e={r:"",s:""};;){var n=new s(l.generate(32,"hex",i.random(64)),16).umod(this.curve.n),r=this.curve.g.mul(n),o=i.hashToBN(t).add(r.getX()).umod(this.curve.n);if(console.log("k =",n.toString()),!o.isZero()&&!o.add(n).eq(this.curve.n)){var a=new s(1).add(this.pri).invm(this.curve.n),c=n.sub(o.mul(this.pri)).umod(this.curve.n),u=a.mul(c).umod(this.curve.n);if(!u.isZero()){e.r=i.padStart(o.toString(16),64,"0"),e.s=i.padStart(u.toString(16),64,"0");break}}}return e},y.prototype.verifyDigest=function(t,e,n){var r=new s(e,16);if(r.cmp(this.curve.n)>=0)return!1;var o=new s(n,16);if(o.cmp(this.curve.n)>=0)return!1;var a=r.add(o).umod(this.curve.n);if(a.isZero())return!1;var c=this.curve.g.mul(o).add(this.pub.mul(a));return!!i.hashToBN(t).add(c.getX()).umod(this.curve.n).eq(r)},y.prototype._combine=function(t){var e=[0,128,49,50,51,52,53,54,55,56,49,50,51,52,53,54,55,56];return e=(e=(e=(e=(e=(e=e.concat(this.curve.a.fromRed().toArray())).concat(this.curve.b.fromRed().toArray())).concat(this.curve.g.getX().toArray())).concat(this.curve.g.getY().toArray())).concat(this.pub.getX().toArray())).concat(this.pub.getY().toArray()),h=new r,e=h.sum(e),console.log(e.join()),"string"==typeof t?e.concat(i.strToBytes(t)):e.concat(t)},y.prototype.toString=function(){var t="public: ";return this.pub?t+="("+this.pub.getX().toString(16)+", "+this.pub.getY().toString(16)+")":t+="null",t+=", private: ",this.pri?t+=i.padStart(this.pri.toString(16),64,"0"):t+="null",t}},1982:function(t){t.exports=JSON.parse('{"name":"sm.js","version":"0.1.7","description":"SM series cryptography in javascript implementation","main":"index.js","scripts":{"test":"","dist":"browserify -r ./index.js:sm.js > dist/sm.js","postdist":"uglifyjs -mc -o dist/sm.min.js dist/sm.js","prepublish":"npm run dist"},"repository":{"type":"git","url":"git+https://github.com/AlverLyu/sm.js.git"},"keywords":["sm2","sm3","crypto","ecc"],"author":"Alver Lyu","license":"MIT","bugs":{"url":"https://github.com/AlverLyu/sm.js/issues"},"homepage":"https://github.com/AlverLyu/sm.js#readme","dependencies":{"bn.js":"^4.11.6","elliptic":"^6.4.0","hash.js":"^1.0.3","hmac-drbg":"^1.0.1","inherits":"^2.0.3"},"devDependencies":{"uglify-js":"^3.0.15"}}')},2412:function(t,e,n){"use strict";t.exports=[n(2413),n(2417),n(1172),n(1173),n(743)(n(1173)),n(1177),n(743)(n(1177)),n(1178),n(2422),n(743)(n(1178)),n(2423)]},2413:function(t,e,n){"use strict";var r=n(253),i=n(173),o=n(17),s=n(60).EventEmitter,a=n(2416);function c(t,e,n){if(!c.enabled())throw new Error("Transport created when disabled");s.call(this);var o=this,u=i.addPath(t,"/websocket");u="https"===u.slice(0,5)?"wss"+u.slice(5):"ws"+u.slice(4),this.url=u,this.ws=new a(this.url,[],n),this.ws.onmessage=function(t){t.data,o.emit("message",t.data)},this.unloadRef=r.unloadAdd((function(){o.ws.close()})),this.ws.onclose=function(t){t.code,t.reason,o.emit("close",t.code,t.reason),o._cleanup()},this.ws.onerror=function(t){o.emit("close",1006,"WebSocket connection broken"),o._cleanup()}}o(c,s),c.prototype.send=function(t){var e="["+t+"]";this.ws.send(e)},c.prototype.close=function(){var t=this.ws;this._cleanup(),t&&t.close()},c.prototype._cleanup=function(){var t=this.ws;t&&(t.onmessage=t.onclose=t.onerror=null),r.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},c.enabled=function(){return!!a},c.transportName="websocket",c.roundTrips=2,t.exports=c},2416:function(t,e,n){"use strict";var r=global.WebSocket||global.MozWebSocket;t.exports=r?function(t){return new r(t)}:void 0},2417:function(t,e,n){"use strict";var r=n(17),i=n(343),o=n(525),s=n(526),a=n(431),c=n(432);function u(t){if(!a.enabled&&!s.enabled)throw new Error("Transport created when disabled");i.call(this,t,"/xhr_streaming",o,s)}r(u,i),u.enabled=function(t){return!t.nullOrigin&&(!c.isOpera()&&s.enabled)},u.transportName="xhr-streaming",u.roundTrips=2,u.needBody=!!global.document,t.exports=u},2418:function(t,e,n){"use strict";var r=n(17),i=n(60).EventEmitter;function o(t,e){i.call(this),this.sendBuffer=[],this.sender=e,this.url=t}r(o,i),o.prototype.send=function(t){this.sendBuffer.push(t),this.sendStop||this.sendSchedule()},o.prototype.sendScheduleWait=function(){var t,e=this;this.sendStop=function(){e.sendStop=null,clearTimeout(t)},t=setTimeout((function(){e.sendStop=null,e.sendSchedule()}),25)},o.prototype.sendSchedule=function(){this.sendBuffer.length;var t=this;if(this.sendBuffer.length>0){var e="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,e,(function(e){t.sendStop=null,e?(t.emit("close",e.code||1006,"Sending error: "+e),t.close()):t.sendScheduleWait()})),this.sendBuffer=[]}},o.prototype._cleanup=function(){this.removeAllListeners()},o.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},t.exports=o},2419:function(t,e,n){"use strict";var r=n(17),i=n(60).EventEmitter;function o(t,e,n){i.call(this),this.Receiver=t,this.receiveUrl=e,this.AjaxObject=n,this._scheduleReceiver()}r(o,i),o.prototype._scheduleReceiver=function(){var t=this,e=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);e.on("message",(function(e){t.emit("message",e)})),e.once("close",(function(n,r){t.pollIsClosing,t.poll=e=null,t.pollIsClosing||("network"===r?t._scheduleReceiver():(t.emit("close",n||1006,r),t.removeAllListeners()))}))},o.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},t.exports=o},2420:function(t,e,n){"use strict";var r=n(17),i=n(60).EventEmitter,o=n(1174);function s(t){i.call(this);var e=this,n=this.es=new o(t);n.onmessage=function(t){t.data,e.emit("message",decodeURI(t.data))},n.onerror=function(t){n.readyState;var r=2!==n.readyState?"network":"permanent";e._cleanup(),e._close(r)}}r(s,i),s.prototype.abort=function(){this._cleanup(),this._close("user")},s.prototype._cleanup=function(){var t=this.es;t&&(t.onmessage=t.onerror=null,t.close(),this.es=null)},s.prototype._close=function(t){var e=this;setTimeout((function(){e.emit("close",null,t),e.removeAllListeners()}),200)},t.exports=s},2421:function(t,e,n){"use strict";var r=n(17),i=n(433),o=n(173),s=n(60).EventEmitter,a=n(342);function c(t){s.call(this);var e=this;i.polluteGlobalNamespace(),this.id="a"+a.string(6),t=o.addQuery(t,"c="+decodeURIComponent(i.WPrefix+"."+this.id)),c.htmlfileEnabled;var n=c.htmlfileEnabled?i.createHtmlfile:i.createIframe;global[i.WPrefix][this.id]={start:function(){e.iframeObj.loaded()},message:function(t){e.emit("message",t)},stop:function(){e._cleanup(),e._close("network")}},this.iframeObj=n(t,(function(){e._cleanup(),e._close("permanent")}))}r(c,s),c.prototype.abort=function(){this._cleanup(),this._close("user")},c.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete global[i.WPrefix][this.id]},c.prototype._close=function(t){this.emit("close",null,t),this.removeAllListeners()},c.htmlfileEnabled=!1;var u=["Active"].concat("Object").join("X");if(u in global)try{c.htmlfileEnabled=!!new global[u]("htmlfile")}catch(t){}c.enabled=c.htmlfileEnabled||i.iframeEnabled,t.exports=c},2422:function(t,e,n){"use strict";var r=n(17),i=n(343),o=n(1172),s=n(525),a=n(742);function c(t){if(!a.enabled)throw new Error("Transport created when disabled");i.call(this,t,"/xhr",s,a)}r(c,i),c.enabled=o.enabled,c.transportName="xdr-polling",c.roundTrips=2,t.exports=c},2423:function(t,e,n){"use strict";var r=n(17),i=n(1170),o=n(2424),s=n(2425);function a(t){if(!a.enabled())throw new Error("Transport created when disabled");i.call(this,t,"/jsonp",s,o)}r(a,i),a.enabled=function(){return!!global.document},a.transportName="jsonp-polling",a.roundTrips=1,a.needBody=!0,t.exports=a},2424:function(t,e,n){"use strict";var r=n(433),i=n(342),o=n(432),s=n(173),a=n(17),c=n(60).EventEmitter;function u(t){var e=this;c.call(this),r.polluteGlobalNamespace(),this.id="a"+i.string(6);var n=s.addQuery(t,"c="+encodeURIComponent(r.WPrefix+"."+this.id));global[r.WPrefix][this.id]=this._callback.bind(this),this._createScript(n),this.timeoutId=setTimeout((function(){e._abort(new Error("JSONP script loaded abnormally (timeout)"))}),u.timeout)}a(u,c),u.prototype.abort=function(){if(global[r.WPrefix][this.id]){var t=new Error("JSONP user aborted read");t.code=1e3,this._abort(t)}},u.timeout=35e3,u.scriptErrorTimeout=1e3,u.prototype._callback=function(t){this._cleanup(),this.aborting||(t&&this.emit("message",t),this.emit("close",null,"network"),this.removeAllListeners())},u.prototype._abort=function(t){this._cleanup(),this.aborting=!0,this.emit("close",t.code,t.message),this.removeAllListeners()},u.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var t=this.script;t.parentNode.removeChild(t),t.onreadystatechange=t.onerror=t.onload=t.onclick=null,this.script=null}delete global[r.WPrefix][this.id]},u.prototype._scriptError=function(){var t=this;this.errorTimer||(this.errorTimer=setTimeout((function(){t.loadedOkay||t._abort(new Error("JSONP script loaded abnormally (onerror)"))}),u.scriptErrorTimeout))},u.prototype._createScript=function(t){var e,n=this,r=this.script=global.document.createElement("script");if(r.id="a"+i.string(8),r.src=t,r.type="text/javascript",r.charset="UTF-8",r.onerror=this._scriptError.bind(this),r.onload=function(){n._abort(new Error("JSONP script loaded abnormally (onload)"))},r.onreadystatechange=function(){if(r.readyState,/loaded|closed/.test(r.readyState)){if(r&&r.htmlFor&&r.onclick){n.loadedOkay=!0;try{r.onclick()}catch(t){}}r&&n._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},void 0===r.async&&global.document.attachEvent)if(o.isOpera())(e=this.script2=global.document.createElement("script")).text="try{var a = document.getElementById('"+r.id+"'); if(a)a.onerror();}catch(x){};",r.async=e.async=!1;else{try{r.htmlFor=r.id,r.event="onclick"}catch(t){}r.async=!0}void 0!==r.async&&(r.async=!0);var s=global.document.getElementsByTagName("head")[0];s.insertBefore(r,s.firstChild),e&&s.insertBefore(e,s.firstChild)},t.exports=u},2425:function(t,e,n){"use strict";var r,i,o=n(342),s=n(173);t.exports=function(t,e,n){r||((r=global.document.createElement("form")).style.display="none",r.style.position="absolute",r.method="POST",r.enctype="application/x-www-form-urlencoded",r.acceptCharset="UTF-8",(i=global.document.createElement("textarea")).name="d",r.appendChild(i),global.document.body.appendChild(r));var a="a"+o.string(8);r.target=a,r.action=s.addQuery(s.addPath(t,"/jsonp_send"),"i="+a);var c=function(t){try{return global.document.createElement('<iframe name="'+t+'">')}catch(n){var e=global.document.createElement("iframe");return e.name=t,e}}(a);c.id=a,c.style.display="none",r.appendChild(c);try{i.value=e}catch(t){}r.submit();var u=function(t){c.onerror&&(c.onreadystatechange=c.onerror=c.onload=null,setTimeout((function(){c.parentNode.removeChild(c),c=null}),500),i.value="",n(t))};return c.onerror=function(){u()},c.onload=function(){u()},c.onreadystatechange=function(t){c.readyState,"complete"===c.readyState&&u()},function(){u(new Error("Aborted"))}}},2426:function(t,e,n){"use strict";n(2427);var r,i=n(1169),o=n(17),s=n(232),a=n(342),c=n(2428),u=n(173),h=n(253),l=n(2429),f=n(744),p=n(432),d=n(2430),y=n(745),m=n(2431),g=n(1179),b=n(2432),v=n(2433),w=n(2434);function _(t,e,n){if(!(this instanceof _))return new _(t,e,n);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");m.call(this),this.readyState=_.CONNECTING,this.extensions="",this.protocol="",(n=n||{}).protocols_whitelist&&d.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=n.transports,this._transportOptions=n.transportOptions||{};var r=n.sessionId||8;if("function"==typeof r)this._generateSessionId=r;else{if("number"!=typeof r)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return a.string(r)}}this._server=n.server||a.numberString(1e3);var o=new i(t);if(!o.host||!o.protocol)throw new SyntaxError("The URL '"+t+"' is invalid");if(o.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==o.protocol&&"https:"!==o.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+o.protocol+"' is not allowed.");var s="https:"===o.protocol;if("https"===g.protocol&&!s)throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");e?Array.isArray(e)||(e=[e]):e=[];var c=e.sort();c.forEach((function(t,e){if(!t)throw new SyntaxError("The protocols entry '"+t+"' is invalid.");if(e<c.length-1&&t===c[e+1])throw new SyntaxError("The protocols entry '"+t+"' is duplicated.")}));var h=u.getOrigin(g.href);this._origin=h?h.toLowerCase():null,o.set("pathname",o.pathname.replace(/\/+$/,"")),this.url=o.href,this.url,this._urlInfo={nullOrigin:!p.hasDomain(),sameOrigin:u.isOriginEqual(this.url,g.href),sameScheme:u.isSchemeEqual(this.url,g.href)},this._ir=new w(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function F(t){return 1e3===t||t>=3e3&&t<=4999}o(_,m),_.prototype.close=function(t,e){if(t&&!F(t))throw new Error("InvalidAccessError: Invalid code");if(e&&e.length>123)throw new SyntaxError("reason argument has an invalid length");if(this.readyState!==_.CLOSING&&this.readyState!==_.CLOSED){this._close(t||1e3,e||"Normal closure",!0)}},_.prototype.send=function(t){if("string"!=typeof t&&(t=""+t),this.readyState===_.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===_.OPEN&&this._transport.send(c.quote(t))},_.version=n(1176),_.CONNECTING=0,_.OPEN=1,_.CLOSING=2,_.CLOSED=3,_.prototype._receiveInfo=function(t,e){if(this._ir=null,t){this._rto=this.countRTO(e),this._transUrl=t.base_url?t.base_url:this.url,t=f.extend(t,this._urlInfo);var n=r.filterToEnabled(this._transportsWhitelist,t);this._transports=n.main,this._transports.length,this._connect()}else this._close(1002,"Cannot connect to server")},_.prototype._connect=function(){for(var t=this._transports.shift();t;t=this._transports.shift()){if(t.transportName,t.needBody&&(!global.document.body||void 0!==global.document.readyState&&"complete"!==global.document.readyState&&"interactive"!==global.document.readyState))return this._transports.unshift(t),void h.attachEvent("load",this._connect.bind(this));var e=this._rto*t.roundTrips||5e3;this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),e);var n=u.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),r=this._transportOptions[t.transportName],i=new t(n,this._transUrl,r);return i.on("message",this._transportMessage.bind(this)),i.once("close",this._transportClose.bind(this)),i.transportName=t.transportName,void(this._transport=i)}this._close(2e3,"All transports failed",!1)},_.prototype._transportTimeout=function(){this.readyState===_.CONNECTING&&this._transportClose(2007,"Transport timed out")},_.prototype._transportMessage=function(t){var e,n=this,r=t.slice(0,1),i=t.slice(1);switch(r){case"o":return void this._open();case"h":return this.dispatchEvent(new y("heartbeat")),void this.transport}if(i)try{e=s.parse(i)}catch(t){}if(void 0!==e)switch(r){case"a":Array.isArray(e)&&e.forEach((function(t){n.transport,n.dispatchEvent(new v(t))}));break;case"m":this.transport,this.dispatchEvent(new v(e));break;case"c":Array.isArray(e)&&2===e.length&&this._close(e[0],e[1],!0)}},_.prototype._transportClose=function(t,e){this.transport,this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),F(t)||2e3===t||this.readyState!==_.CONNECTING?this._close(t,e):this._connect()},_.prototype._open=function(){this._transport.transportName,this.readyState,this.readyState===_.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=_.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new y("open")),this.transport):this._close(1006,"Server lost session")},_.prototype._close=function(t,e,n){this.transport,this.readyState;var r=!1;if(this._ir&&(r=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===_.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=_.CLOSING,setTimeout(function(){this.readyState=_.CLOSED,r&&this.dispatchEvent(new y("error"));var i=new b("close");i.wasClean=n||!1,i.code=t||1e3,i.reason=e,this.dispatchEvent(i),this.onmessage=this.onclose=this.onerror=null}.bind(this),0)},_.prototype.countRTO=function(t){return t>100?4*t:300+t},t.exports=function(t){return r=l(t),n(2437)(_,t),_}},2427:function(t,e,n){"use strict";var r,i=Array.prototype,o=Object.prototype,s=Function.prototype,a=String.prototype,c=i.slice,u=o.toString,h=function(t){return"[object Function]"===o.toString.call(t)},l=function(t){return"[object String]"===u.call(t)},f=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(t){return!1}}();r=f?function(t,e,n,r){!r&&e in t||Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(t,e,n,r){!r&&e in t||(t[e]=n)};var p=function(t,e,n){for(var i in e)o.hasOwnProperty.call(e,i)&&r(t,i,e[i],n)},d=function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return Object(t)};function y(t){var e=+t;return e!=e?e=0:0!==e&&e!==1/0&&e!==-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}function m(){}p(s,{bind:function(t){var e=this;if(!h(e))throw new TypeError("Function.prototype.bind called on incompatible "+e);for(var n=c.call(arguments,1),r=function(){if(this instanceof a){var r=e.apply(this,n.concat(c.call(arguments)));return Object(r)===r?r:this}return e.apply(t,n.concat(c.call(arguments)))},i=Math.max(0,e.length-n.length),o=[],s=0;s<i;s++)o.push("$"+s);var a=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this, arguments); }")(r);return e.prototype&&(m.prototype=e.prototype,a.prototype=new m,m.prototype=null),a}}),p(Array,{isArray:function(t){return"[object Array]"===u.call(t)}});var g,b,v,w=Object("a"),_="a"!==w[0]||!(0 in w);p(i,{forEach:function(t){var e=d(this),n=_&&l(this)?this.split(""):e,r=arguments[1],i=-1,o=n.length>>>0;if(!h(t))throw new TypeError;for(;++i<o;)i in n&&t.call(r,n[i],i,e)}},(g=i.forEach,b=!0,v=!0,g&&(g.call("foo",(function(t,e,n){"object"!=typeof n&&(b=!1)})),g.call([1],(function(){v="string"==typeof this}),"x")),!(g&&b&&v)));var F=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);p(i,{indexOf:function(t){var e=_&&l(this)?this.split(""):d(this),n=e.length>>>0;if(!n)return-1;var r=0;for(arguments.length>1&&(r=y(arguments[1])),r=r>=0?r:Math.max(0,n+r);r<n;r++)if(r in e&&e[r]===t)return r;return-1}},F);var C,E=a.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?(C=void 0===/()??/.exec("")[1],a.split=function(t,e){var n=this;if(void 0===t&&0===e)return[];if("[object RegExp]"!==u.call(t))return E.call(this,t,e);var r,o,s,a,c=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),l=0;for(t=new RegExp(t.source,h+"g"),n+="",C||(r=new RegExp("^"+t.source+"$(?!\\s)",h)),e=void 0===e?-1>>>0:function(t){return t>>>0}(e);(o=t.exec(n))&&!((s=o.index+o[0].length)>l&&(c.push(n.slice(l,o.index)),!C&&o.length>1&&o[0].replace(r,(function(){for(var t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(o[t]=void 0)})),o.length>1&&o.index<n.length&&i.push.apply(c,o.slice(1)),a=o[0].length,l=s,c.length>=e));)t.lastIndex===o.index&&t.lastIndex++;return l===n.length?!a&&t.test("")||c.push(""):c.push(n.slice(l)),c.length>e?c.slice(0,e):c}):"0".split(void 0,0).length&&(a.split=function(t,e){return void 0===t&&0===e?[]:E.call(this,t,e)});var x=a.substr,k="".substr&&"b"!=="0b".substr(-1);p(a,{substr:function(t,e){return x.call(this,t<0&&(t=this.length+t)<0?0:t,e)}},k)},2428:function(t,e,n){"use strict";var r,i=n(232),o=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g;t.exports={quote:function(t){var e=i.stringify(t);return o.lastIndex=0,o.test(e)?(r||(r=function(t){var e,n={},r=[];for(e=0;e<65536;e++)r.push(String.fromCharCode(e));return t.lastIndex=0,r.join("").replace(t,(function(t){return n[t]="\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4),""})),t.lastIndex=0,n}(o)),e.replace(o,(function(t){return r[t]}))):e}}},2429:function(t,e,n){"use strict";t.exports=function(t){return{filterToEnabled:function(e,n){var r={main:[],facade:[]};return e?"string"==typeof e&&(e=[e]):e=[],t.forEach((function(t){t&&("websocket"===t.transportName&&!1===n.websocket||(e.length&&-1===e.indexOf(t.transportName)?t.transportName:t.enabled(n)?(t.transportName,r.main.push(t),t.facadeTransport&&r.facade.push(t.facadeTransport)):t.transportName))})),r}}}},2430:function(t,e,n){"use strict";var r={};["log","debug","warn"].forEach((function(t){var e;try{e=global.console&&global.console[t]&&global.console[t].apply}catch(t){}r[t]=e?function(){return global.console[t].apply(global.console,arguments)}:"log"===t?function(){}:r.log})),t.exports=r},2431:function(t,e,n){"use strict";function r(){this._listeners={}}r.prototype.addEventListener=function(t,e){t in this._listeners||(this._listeners[t]=[]);var n=this._listeners[t];-1===n.indexOf(e)&&(n=n.concat([e])),this._listeners[t]=n},r.prototype.removeEventListener=function(t,e){var n=this._listeners[t];if(n){var r=n.indexOf(e);-1===r||(n.length>1?this._listeners[t]=n.slice(0,r).concat(n.slice(r+1)):delete this._listeners[t])}},r.prototype.dispatchEvent=function(){var t=arguments[0],e=t.type,n=1===arguments.length?[t]:Array.apply(null,arguments);if(this["on"+e]&&this["on"+e].apply(this,n),e in this._listeners)for(var r=this._listeners[e],i=0;i<r.length;i++)r[i].apply(this,n)},t.exports=r},2432:function(t,e,n){"use strict";var r=n(17),i=n(745);function o(){i.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}r(o,i),t.exports=o},2433:function(t,e,n){"use strict";var r=n(17),i=n(745);function o(t){i.call(this),this.initEvent("message",!1,!1),this.data=t}r(o,i),t.exports=o},2434:function(t,e,n){"use strict";var r=n(60).EventEmitter,i=n(17),o=n(173),s=n(742),a=n(526),c=n(431),u=n(2435),h=n(2436),l=n(1181);function f(t,e){var n=this;r.call(this),setTimeout((function(){n.doXhr(t,e)}),0)}i(f,r),f._getReceiver=function(t,e,n){return n.sameOrigin?new l(e,c):a.enabled?new l(e,a):s.enabled&&n.sameScheme?new l(e,s):h.enabled()?new h(t,e):new l(e,u)},f.prototype.doXhr=function(t,e){var n=this,r=o.addPath(t,"/info");this.xo=f._getReceiver(t,r,e),this.timeoutRef=setTimeout((function(){n._cleanup(!1),n.emit("finish")}),f.timeout),this.xo.once("finish",(function(t,e){n._cleanup(!0),n.emit("finish",t,e)}))},f.prototype._cleanup=function(t){clearTimeout(this.timeoutRef),this.timeoutRef=null,!t&&this.xo&&this.xo.close(),this.xo=null},f.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},f.timeout=8e3,t.exports=f},2435:function(t,e,n){"use strict";var r=n(60).EventEmitter;function i(){var t=this;r.call(this),this.to=setTimeout((function(){t.emit("finish",200,"{}")}),i.timeout)}n(17)(i,r),i.prototype.close=function(){clearTimeout(this.to)},i.timeout=2e3,t.exports=i},2436:function(t,e,n){"use strict";var r=n(60).EventEmitter,i=n(17),o=n(232),s=n(253),a=n(1175),c=n(1180);function u(t,e){var n=this;r.call(this);var i=function(){var r=n.ifr=new a(c.transportName,e,t);r.once("message",(function(t){if(t){var e;try{e=o.parse(t)}catch(t){return n.emit("finish"),void n.close()}var r=e[0],i=e[1];n.emit("finish",r,i)}n.close()})),r.once("close",(function(){n.emit("finish"),n.close()}))};global.document.body?i():s.attachEvent("load",i)}i(u,r),u.enabled=function(){return a.enabled()},u.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},t.exports=u},2437:function(t,e,n){"use strict";var r=n(173),i=n(253),o=n(232),s=n(2438),a=n(1180),c=n(433),u=n(1179);t.exports=function(t,e){var n,h={};e.forEach((function(t){t.facadeTransport&&(h[t.facadeTransport.transportName]=t.facadeTransport)})),h[a.transportName]=a,t.bootstrap_iframe=function(){var e;c.currentWindowId=u.hash.slice(1);i.attachEvent("message",(function(i){if(i.source===parent&&(void 0===n&&(n=i.origin),i.origin===n)){var a;try{a=o.parse(i.data)}catch(t){return void i.data}if(a.windowId===c.currentWindowId)switch(a.type){case"s":var l;try{l=o.parse(a.data)}catch(t){a.data;break}var f=l[0],p=l[1],d=l[2],y=l[3];if(f!==t.version)throw new Error('Incompatible SockJS! Main site uses: "'+f+'", the iframe: "'+t.version+'".');if(!r.isOriginEqual(d,u.href)||!r.isOriginEqual(y,u.href))throw new Error("Can't connect to different domain from within an iframe. ("+u.href+", "+d+", "+y+")");e=new s(new h[p](d,y));break;case"m":e._send(a.data);break;case"c":e&&e._close(),e=null}}})),c.postMessage("s")}}},2438:function(t,e,n){"use strict";var r=n(232),i=n(433);function o(t){this._transport=t,t.on("message",this._transportMessage.bind(this)),t.on("close",this._transportClose.bind(this))}o.prototype._transportClose=function(t,e){i.postMessage("c",r.stringify([t,e]))},o.prototype._transportMessage=function(t){i.postMessage("t",t)},o.prototype._send=function(t){this._transport.send(t)},o.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},t.exports=o},253:function(t,e,n){"use strict";var r=n(342),i={},o=!1,s=global.chrome&&global.chrome.app&&global.chrome.app.runtime;t.exports={attachEvent:function(t,e){void 0!==global.addEventListener?global.addEventListener(t,e,!1):global.document&&global.attachEvent&&(global.document.attachEvent("on"+t,e),global.attachEvent("on"+t,e))},detachEvent:function(t,e){void 0!==global.addEventListener?global.removeEventListener(t,e,!1):global.document&&global.detachEvent&&(global.document.detachEvent("on"+t,e),global.detachEvent("on"+t,e))},unloadAdd:function(t){if(s)return null;var e=r.string(8);return i[e]=t,o&&setTimeout(this.triggerUnloadCallbacks,0),e},unloadDel:function(t){t in i&&delete i[t]},triggerUnloadCallbacks:function(){for(var t in i)i[t](),delete i[t]}};s||t.exports.attachEvent("unload",(function(){o||(o=!0,t.exports.triggerUnloadCallbacks())}))},2908:function(t,e,n){var r=n(1749)(__dirname);t.exports=r},342:function(t,e,n){"use strict";var r=n(27);t.exports={string:function(t){for(var e="abcdefghijklmnopqrstuvwxyz012345".length,n=r.randomBytes(t),i=[],o=0;o<t;o++)i.push("abcdefghijklmnopqrstuvwxyz012345".substr(n[o]%e,1));return i.join("")},number:function(t){return Math.floor(Math.random()*t)},numberString:function(t){var e=(""+(t-1)).length;return(new Array(e+1).join("0")+this.number(t)).slice(-e)}}},343:function(t,e,n){"use strict";var r=n(17),i=n(173),o=n(1170);function s(t,e,n,r){o.call(this,t,e,function(t){return function(e,n,r){var o={};"string"==typeof n&&(o.headers={"Content-type":"text/plain"});var s=i.addPath(e,"/xhr_send"),a=new t("POST",s,n,o);return a.once("finish",(function(t){if(a=null,200!==t&&204!==t)return r(new Error("http status "+t));r()})),function(){a.close(),a=null;var t=new Error("Aborted");t.code=1e3,r(t)}}}(r),n,r)}r(s,o),t.exports=s},370:function(t,e,n){t.exports=function(t){"use strict";var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(t,e){var n=t[0],r=t[1],i=t[2],o=t[3];r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+e[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&i)+e[1]-389564586|0)<<12|o>>>20)+n|0)&n|~o&r)+e[2]+606105819|0)<<17|i>>>15)+o|0)&o|~i&n)+e[3]-1044525330|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+e[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&i)+e[5]+1200080426|0)<<12|o>>>20)+n|0)&n|~o&r)+e[6]-1473231341|0)<<17|i>>>15)+o|0)&o|~i&n)+e[7]-45705983|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+e[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&i)+e[9]-1958414417|0)<<12|o>>>20)+n|0)&n|~o&r)+e[10]-42063|0)<<17|i>>>15)+o|0)&o|~i&n)+e[11]-1990404162|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+e[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&i)+e[13]-40341101|0)<<12|o>>>20)+n|0)&n|~o&r)+e[14]-1502002290|0)<<17|i>>>15)+o|0)&o|~i&n)+e[15]+1236535329|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+e[1]-165796510|0)<<5|n>>>27)+r|0)&i|r&~i)+e[6]-1069501632|0)<<9|o>>>23)+n|0)&r|n&~r)+e[11]+643717713|0)<<14|i>>>18)+o|0)&n|o&~n)+e[0]-373897302|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+e[5]-701558691|0)<<5|n>>>27)+r|0)&i|r&~i)+e[10]+38016083|0)<<9|o>>>23)+n|0)&r|n&~r)+e[15]-660478335|0)<<14|i>>>18)+o|0)&n|o&~n)+e[4]-405537848|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+e[9]+568446438|0)<<5|n>>>27)+r|0)&i|r&~i)+e[14]-1019803690|0)<<9|o>>>23)+n|0)&r|n&~r)+e[3]-187363961|0)<<14|i>>>18)+o|0)&n|o&~n)+e[8]+1163531501|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+e[13]-1444681467|0)<<5|n>>>27)+r|0)&i|r&~i)+e[2]-51403784|0)<<9|o>>>23)+n|0)&r|n&~r)+e[7]+1735328473|0)<<14|i>>>18)+o|0)&n|o&~n)+e[12]-1926607734|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+e[5]-378558|0)<<4|n>>>28)+r|0)^r^i)+e[8]-2022574463|0)<<11|o>>>21)+n|0)^n^r)+e[11]+1839030562|0)<<16|i>>>16)+o|0)^o^n)+e[14]-35309556|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+e[1]-1530992060|0)<<4|n>>>28)+r|0)^r^i)+e[4]+1272893353|0)<<11|o>>>21)+n|0)^n^r)+e[7]-155497632|0)<<16|i>>>16)+o|0)^o^n)+e[10]-1094730640|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+e[13]+681279174|0)<<4|n>>>28)+r|0)^r^i)+e[0]-358537222|0)<<11|o>>>21)+n|0)^n^r)+e[3]-722521979|0)<<16|i>>>16)+o|0)^o^n)+e[6]+76029189|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+e[9]-640364487|0)<<4|n>>>28)+r|0)^r^i)+e[12]-421815835|0)<<11|o>>>21)+n|0)^n^r)+e[15]+530742520|0)<<16|i>>>16)+o|0)^o^n)+e[2]-995338651|0)<<23|r>>>9)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+e[0]-198630844|0)<<6|n>>>26)+r|0)|~i))+e[7]+1126891415|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+e[14]-1416354905|0)<<15|i>>>17)+o|0)|~n))+e[5]-57434055|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+e[12]+1700485571|0)<<6|n>>>26)+r|0)|~i))+e[3]-1894986606|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+e[10]-1051523|0)<<15|i>>>17)+o|0)|~n))+e[1]-2054922799|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+e[8]+1873313359|0)<<6|n>>>26)+r|0)|~i))+e[15]-30611744|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+e[6]-1560198380|0)<<15|i>>>17)+o|0)|~n))+e[13]+1309151649|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+e[4]-145523070|0)<<6|n>>>26)+r|0)|~i))+e[11]-1120210379|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+e[2]+718787259|0)<<15|i>>>17)+o|0)|~n))+e[9]-343485551|0)<<21|r>>>11)+i|0,t[0]=n+t[0]|0,t[1]=r+t[1]|0,t[2]=i+t[2]|0,t[3]=o+t[3]|0}function r(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}function i(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return n}function o(t){var e,i,o,s,a,c,u=t.length,h=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=u;e+=64)n(h,r(t.substring(e-64,e)));for(i=(t=t.substring(e-64)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<i;e+=1)o[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(o[e>>2]|=128<<(e%4<<3),e>55)for(n(h,o),e=0;e<16;e+=1)o[e]=0;return s=(s=8*u).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),c=parseInt(s[1],16)||0,o[14]=a,o[15]=c,n(h,o),h}function s(t){var n,r="";for(n=0;n<4;n+=1)r+=e[t>>8*n+4&15]+e[t>>8*n&15];return r}function a(t){var e;for(e=0;e<t.length;e+=1)t[e]=s(t[e]);return t.join("")}function c(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function u(t){var e,n=[],r=t.length;for(e=0;e<r-1;e+=2)n.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,n)}function h(){this.reset()}return a(o("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function e(t,e){return(t=0|t||0)<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(n,r){var i,o,s,a,c=this.byteLength,u=e(n,c),h=c;return r!==t&&(h=e(r,c)),u>h?new ArrayBuffer(0):(i=h-u,o=new ArrayBuffer(i),s=new Uint8Array(o),a=new Uint8Array(this,u,i),s.set(a),o)}}(),h.prototype.append=function(t){return this.appendBinary(c(t)),this},h.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var e,i=this._buff.length;for(e=64;e<=i;e+=64)n(this._hash,r(this._buff.substring(e-64,e)));return this._buff=this._buff.substring(e-64),this},h.prototype.end=function(t){var e,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<i;e+=1)o[e>>2]|=r.charCodeAt(e)<<(e%4<<3);return this._finish(o,i),n=a(this._hash),t&&(n=u(n)),this.reset(),n},h.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},h.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},h.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},h.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},h.prototype._finish=function(t,e){var r,i,o,s=e;if(t[s>>2]|=128<<(s%4<<3),s>55)for(n(this._hash,t),s=0;s<16;s+=1)t[s]=0;r=(r=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(r[2],16),o=parseInt(r[1],16)||0,t[14]=i,t[15]=o,n(this._hash,t)},h.hash=function(t,e){return h.hashBinary(c(t),e)},h.hashBinary=function(t,e){var n=a(o(t));return e?u(n):n},h.ArrayBuffer=function(){this.reset()},h.ArrayBuffer.prototype.append=function(t){var e,r,o,s,a,c=(r=this._buff.buffer,o=t,s=!0,(a=new Uint8Array(r.byteLength+o.byteLength)).set(new Uint8Array(r)),a.set(new Uint8Array(o),r.byteLength),s?a:a.buffer),u=c.length;for(this._length+=t.byteLength,e=64;e<=u;e+=64)n(this._hash,i(c.subarray(e-64,e)));return this._buff=e-64<u?new Uint8Array(c.buffer.slice(e-64)):new Uint8Array(0),this},h.ArrayBuffer.prototype.end=function(t){var e,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<i;e+=1)o[e>>2]|=r[e]<<(e%4<<3);return this._finish(o,i),n=a(this._hash),t&&(n=u(n)),this.reset(),n},h.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},h.ArrayBuffer.prototype.getState=function(){var t,e=h.prototype.getState.call(this);return e.buff=(t=e.buff,String.fromCharCode.apply(null,new Uint8Array(t))),e},h.ArrayBuffer.prototype.setState=function(t){return t.buff=function(t,e){var n,r=t.length,i=new ArrayBuffer(r),o=new Uint8Array(i);for(n=0;n<r;n+=1)o[n]=t.charCodeAt(n);return e?o:i}(t.buff,!0),h.prototype.setState.call(this,t)},h.ArrayBuffer.prototype.destroy=h.prototype.destroy,h.ArrayBuffer.prototype._finish=h.prototype._finish,h.ArrayBuffer.hash=function(t,e){var r=a(function(t){var e,r,o,s,a,c,u=t.length,h=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=u;e+=64)n(h,i(t.subarray(e-64,e)));for(t=e-64<u?t.subarray(e-64):new Uint8Array(0),r=t.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<r;e+=1)o[e>>2]|=t[e]<<(e%4<<3);if(o[e>>2]|=128<<(e%4<<3),e>55)for(n(h,o),e=0;e<16;e+=1)o[e]=0;return s=(s=8*u).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),c=parseInt(s[1],16)||0,o[14]=a,o[15]=c,n(h,o),h}(new Uint8Array(t)));return e?u(r):r},h}()},405:function(t,e,n){function r(){var t;try{t=e.storage.debug}catch(t){}return!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG),t}(e=t.exports=n(1820)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(i++,"%c"===t&&(o=i))})),t.splice(o,0,r)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=r,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(r())},431:function(t,e,n){"use strict";var r=n(17),i=n(1171);function o(t,e,n){i.call(this,t,e,n,{noCredentials:!0})}r(o,i),o.enabled=i.enabled,t.exports=o},432:function(t,e,n){"use strict";t.exports={isOpera:function(){return global.navigator&&/opera/i.test(global.navigator.userAgent)},isKonqueror:function(){return global.navigator&&/konqueror/i.test(global.navigator.userAgent)},hasDomain:function(){if(!global.document)return!0;try{return!!global.document.domain}catch(t){return!1}}}},433:function(t,e,n){"use strict";var r=n(253),i=n(232),o=n(432);t.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){t.exports.WPrefix in global||(global[t.exports.WPrefix]={})},postMessage:function(e,n){global.parent!==global&&global.parent.postMessage(i.stringify({windowId:t.exports.currentWindowId,type:e,data:n||""}),"*")},createIframe:function(t,e){var n,i,o=global.document.createElement("iframe"),s=function(){clearTimeout(n);try{o.onload=null}catch(t){}o.onerror=null},a=function(){o&&(s(),setTimeout((function(){o&&o.parentNode.removeChild(o),o=null}),0),r.unloadDel(i))},c=function(t){o&&(a(),e(t))};return o.src=t,o.style.display="none",o.style.position="absolute",o.onerror=function(){c("onerror")},o.onload=function(){clearTimeout(n),n=setTimeout((function(){c("onload timeout")}),2e3)},global.document.body.appendChild(o),n=setTimeout((function(){c("timeout")}),15e3),i=r.unloadAdd(a),{post:function(t,e){try{setTimeout((function(){o&&o.contentWindow&&o.contentWindow.postMessage(t,e)}),0)}catch(t){}},cleanup:a,loaded:s}},createHtmlfile:function(e,n){var i,o,s,a=["Active"].concat("Object").join("X"),c=new global[a]("htmlfile"),u=function(){clearTimeout(i),s.onerror=null},h=function(){c&&(u(),r.unloadDel(o),s.parentNode.removeChild(s),s=c=null,CollectGarbage())},l=function(t){c&&(h(),n(t))};c.open(),c.write('<html><script>document.domain="'+global.document.domain+'";<\/script></html>'),c.close(),c.parentWindow[t.exports.WPrefix]=global[t.exports.WPrefix];var f=c.createElement("div");return c.body.appendChild(f),s=c.createElement("iframe"),f.appendChild(s),s.src=e,s.onerror=function(){l("onerror")},i=setTimeout((function(){l("timeout")}),15e3),o=r.unloadAdd(h),{post:function(t,e){try{setTimeout((function(){s&&s.contentWindow&&s.contentWindow.postMessage(t,e)}),0)}catch(t){}},cleanup:h,loaded:u}}},t.exports.iframeEnabled=!1,global.document&&(t.exports.iframeEnabled=("function"==typeof global.postMessage||"object"==typeof global.postMessage)&&!o.isKonqueror())},524:function(t,e,n){"use strict";var r=n(2412);t.exports=n(2426)(r),"_sockjs_onload"in global&&setTimeout(global._sockjs_onload,1)},525:function(t,e,n){"use strict";var r=n(17),i=n(60).EventEmitter;function o(t,e){i.call(this);var n=this;this.bufferPosition=0,this.xo=new e("POST",t,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",(function(t,e){n._chunkHandler(t,e),n.xo=null;var r=200===t?"network":"permanent";n.emit("close",null,r),n._cleanup()}))}r(o,i),o.prototype._chunkHandler=function(t,e){if(200===t&&e)for(var n=-1;;this.bufferPosition+=n+1){var r=e.slice(this.bufferPosition);if(-1===(n=r.indexOf("\n")))break;var i=r.slice(0,n);i&&this.emit("message",i)}},o.prototype._cleanup=function(){this.removeAllListeners()},o.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},t.exports=o},526:function(t,e,n){"use strict";var r=n(17),i=n(1171);function o(t,e,n,r){i.call(this,t,e,n,r)}r(o,i),o.enabled=i.enabled&&i.supportsCORS,t.exports=o},620:function(t,e,n){var r=n(1819),i=n(669),o=n(948),s=n(405)("socket.io-client");t.exports=e=c;var a=e.managers={};function c(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,i=r(t),c=i.source,u=i.id,h=i.path,l=a[u]&&h in a[u].nsps;return e.forceNew||e["force new connection"]||!1===e.multiplex||l?(s("ignoring socket cache for %s",c),n=o(c,e)):(a[u]||(s("new io instance for %s",c),a[u]=o(c,e)),n=a[u]),i.query&&!e.query&&(e.query=i.query),n.socket(i.path,e)}e.protocol=i.protocol,e.connect=c,e.Manager=n(948),e.Socket=n(954)},669:function(t,e,n){var r=n(405)("socket.io-parser"),i=n(1822),o=n(1823),s=n(946),a=n(947);function c(){}e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=c,e.Decoder=l;var u=e.ERROR+'"encode error"';function h(t){var n=""+t.type;if(e.BINARY_EVENT!==t.type&&e.BINARY_ACK!==t.type||(n+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(n+=t.nsp+","),null!=t.id&&(n+=t.id),null!=t.data){var i=function(t){try{return JSON.stringify(t)}catch(t){return!1}}(t.data);if(!1===i)return u;n+=i}return r("encoded %j as %s",t,n),n}function l(){this.reconstructor=null}function f(t){this.reconPack=t,this.buffers=[]}function p(t){return{type:e.ERROR,data:"parser error: "+t}}c.prototype.encode=function(t,n){(r("encoding packet %j",t),e.BINARY_EVENT===t.type||e.BINARY_ACK===t.type)?function(t,e){o.removeBlobs(t,(function(t){var n=o.deconstructPacket(t),r=h(n.packet),i=n.buffers;i.unshift(r),e(i)}))}(t,n):n([h(t)])},i(l.prototype),l.prototype.add=function(t){var n;if("string"==typeof t)n=function(t){var n=0,i={type:Number(t.charAt(0))};if(null==e.types[i.type])return p("unknown packet type "+i.type);if(e.BINARY_EVENT===i.type||e.BINARY_ACK===i.type){for(var o=n+1;"-"!==t.charAt(++n)&&n!=t.length;);var a=t.substring(o,n);if(a!=Number(a)||"-"!==t.charAt(n))throw new Error("Illegal attachments");i.attachments=Number(a)}if("/"===t.charAt(n+1)){for(o=n+1;++n;){if(","===(u=t.charAt(n)))break;if(n===t.length)break}i.nsp=t.substring(o,n)}else i.nsp="/";var c=t.charAt(n+1);if(""!==c&&Number(c)==c){for(o=n+1;++n;){var u;if(null==(u=t.charAt(n))||Number(u)!=u){--n;break}if(n===t.length)break}i.id=Number(t.substring(o,n+1))}if(t.charAt(++n)){var h=function(t){try{return JSON.parse(t)}catch(t){return!1}}(t.substr(n));if(!(!1!==h&&(i.type===e.ERROR||s(h))))return p("invalid payload");i.data=h}return r("decoded %s as %j",t,i),i}(t),e.BINARY_EVENT===n.type||e.BINARY_ACK===n.type?(this.reconstructor=new f(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!a(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,this.emit("decoded",n))}},l.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},f.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=o.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},f.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},742:function(t,e,n){"use strict";var r=n(60).EventEmitter,i=n(17),o=n(253),s=n(432),a=n(173);function c(t,e,n){var i=this;r.call(this),setTimeout((function(){i._start(t,e,n)}),0)}i(c,r),c.prototype._start=function(t,e,n){var r=this,i=new global.XDomainRequest;e=a.addQuery(e,"t="+ +new Date),i.onerror=function(){r._error()},i.ontimeout=function(){r._error()},i.onprogress=function(){i.responseText,r.emit("chunk",200,i.responseText)},i.onload=function(){r.emit("finish",200,i.responseText),r._cleanup(!1)},this.xdr=i,this.unloadRef=o.unloadAdd((function(){r._cleanup(!0)}));try{this.xdr.open(t,e),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(n)}catch(t){this._error()}},c.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},c.prototype._cleanup=function(t){if(this.xdr){if(this.removeAllListeners(),o.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,t)try{this.xdr.abort()}catch(t){}this.unloadRef=this.xdr=null}},c.prototype.close=function(){this._cleanup(!0)},c.enabled=!(!global.XDomainRequest||!s.hasDomain()),t.exports=c},743:function(t,e,n){"use strict";var r=n(17),i=n(1175),o=n(744);t.exports=function(t){function e(e,n){i.call(this,t.transportName,e,n)}return r(e,i),e.enabled=function(e,n){if(!global.document)return!1;var r=o.extend({},n);return r.sameOrigin=!0,t.enabled(r)&&i.enabled()},e.transportName="iframe-"+t.transportName,e.needBody=!0,e.roundTrips=i.roundTrips+t.roundTrips-1,e.facadeTransport=t,e}},744:function(t,e,n){"use strict";t.exports={isObject:function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},extend:function(t){if(!this.isObject(t))return t;for(var e,n,r=1,i=arguments.length;r<i;r++)for(n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}}},745:function(t,e,n){"use strict";function r(t){this.type=t}r.prototype.initEvent=function(t,e,n){return this.type=t,this.bubbles=e,this.cancelable=n,this.timeStamp=+new Date,this},r.prototype.stopPropagation=function(){},r.prototype.preventDefault=function(){},r.CAPTURING_PHASE=1,r.AT_TARGET=2,r.BUBBLING_PHASE=3,t.exports=r},946:function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},947:function(t,e){t.exports=function(t){return n&&Buffer.isBuffer(t)||r&&(t instanceof ArrayBuffer||function(t){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer}(t))};var n="function"==typeof Buffer&&"function"==typeof Buffer.isBuffer,r="function"==typeof ArrayBuffer},948:function(t,e,n){var r=n(1824),i=n(954),o=n(406),s=n(669),a=n(955),c=n(956),u=n(405)("socket.io-client:manager"),h=n(953),l=n(1841),f=Object.prototype.hasOwnProperty;function p(t,e){if(!(this instanceof p))return new p(t,e);t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new l({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=e.parser||s;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}t.exports=p,p.prototype.emitAll=function(){for(var t in this.emit.apply(this,arguments),this.nsps)f.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},p.prototype.updateSocketIds=function(){for(var t in this.nsps)f.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},p.prototype.generateId=function(t){return("/"===t?"":t+"#")+this.engine.id},o(p.prototype),p.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},p.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},p.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},p.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},p.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},p.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},p.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},p.prototype.open=p.prototype.connect=function(t,e){if(u("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;u("opening %s",this.uri),this.engine=r(this.uri,this.opts);var n=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var o=a(n,"open",(function(){i.onopen(),t&&t()})),s=a(n,"error",(function(e){if(u("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",e),t){var n=new Error("Connection error");n.data=e,t(n)}else i.maybeReconnectOnOpen()}));if(!1!==this._timeout){var c=this._timeout;u("connect attempt will timeout after %d",c);var h=setTimeout((function(){u("connect attempt timed out after %d",c),o.destroy(),n.close(),n.emit("error","timeout"),i.emitAll("connect_timeout",c)}),c);this.subs.push({destroy:function(){clearTimeout(h)}})}return this.subs.push(o),this.subs.push(s),this},p.prototype.onopen=function(){u("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(a(t,"data",c(this,"ondata"))),this.subs.push(a(t,"ping",c(this,"onping"))),this.subs.push(a(t,"pong",c(this,"onpong"))),this.subs.push(a(t,"error",c(this,"onerror"))),this.subs.push(a(t,"close",c(this,"onclose"))),this.subs.push(a(this.decoder,"decoded",c(this,"ondecoded")))},p.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},p.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},p.prototype.ondata=function(t){this.decoder.add(t)},p.prototype.ondecoded=function(t){this.emit("packet",t)},p.prototype.onerror=function(t){u("error",t),this.emitAll("error",t)},p.prototype.socket=function(t,e){var n=this.nsps[t];if(!n){n=new i(this,t,e),this.nsps[t]=n;var r=this;n.on("connecting",o),n.on("connect",(function(){n.id=r.generateId(t)})),this.autoConnect&&o()}function o(){~h(r.connecting,n)||r.connecting.push(n)}return n},p.prototype.destroy=function(t){var e=h(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},p.prototype.packet=function(t){u("writing packet %j",t);var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,(function(n){for(var r=0;r<n.length;r++)e.engine.write(n[r],t.options);e.encoding=!1,e.processPacketQueue()})))},p.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},p.prototype.cleanup=function(){u("cleanup");for(var t=this.subs.length,e=0;e<t;e++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},p.prototype.close=p.prototype.disconnect=function(){u("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},p.prototype.onclose=function(t){u("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},p.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)u("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();u("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout((function(){t.skipReconnect||(u("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open((function(e){e?(u("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(u("reconnect success"),t.onreconnect())})))}),e);this.subs.push({destroy:function(){clearTimeout(n)}})}},p.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},954:function(t,e,n){var r=n(669),i=n(406),o=n(1840),s=n(955),a=n(956),c=n(405)("socket.io-client:socket"),u=n(477),h=n(951);t.exports=p;var l={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},f=i.prototype.emit;function p(t,e,n){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}i(p.prototype),p.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[s(t,"open",a(this,"onopen")),s(t,"packet",a(this,"onpacket")),s(t,"close",a(this,"onclose"))]}},p.prototype.open=p.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},p.prototype.send=function(){var t=o(arguments);return t.unshift("message"),this.emit.apply(this,t),this},p.prototype.emit=function(t){if(l.hasOwnProperty(t))return f.apply(this,arguments),this;var e=o(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:h(e))?r.BINARY_EVENT:r.EVENT,data:e,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},p.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},p.prototype.onopen=function(){if(c("transport is open - connecting"),"/"!==this.nsp)if(this.query){var t="object"==typeof this.query?u.encode(this.query):this.query;c("sending connect packet with query %s",t),this.packet({type:r.CONNECT,query:t})}else this.packet({type:r.CONNECT})},p.prototype.onclose=function(t){c("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},p.prototype.onpacket=function(t){var e=t.nsp===this.nsp,n=t.type===r.ERROR&&"/"===t.nsp;if(e||n)switch(t.type){case r.CONNECT:this.onconnect();break;case r.EVENT:case r.BINARY_EVENT:this.onevent(t);break;case r.ACK:case r.BINARY_ACK:this.onack(t);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",t.data)}},p.prototype.onevent=function(t){var e=t.data||[];c("emitting event %j",e),null!=t.id&&(c("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?f.apply(this,e):this.receiveBuffer.push(e)},p.prototype.ack=function(t){var e=this,n=!1;return function(){if(!n){n=!0;var i=o(arguments);c("sending ack %j",i),e.packet({type:h(i)?r.BINARY_ACK:r.ACK,id:t,data:i})}}},p.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(c("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):c("bad ack %s",t.id)},p.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},p.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)f.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},p.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},p.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},p.prototype.close=p.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},p.prototype.compress=function(t){return this.flags.compress=t,this},p.prototype.binary=function(t){return this.flags.binary=t,this}},955:function(t,e){t.exports=function(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}}}}]);