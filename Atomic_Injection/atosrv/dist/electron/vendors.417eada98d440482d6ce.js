/*! For license information please see vendors.417eada98d440482d6ce.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{1351:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(356);Object.defineProperty(e,"base_encode",{enumerable:!0,get:function(){return r.baseEncode}}),Object.defineProperty(e,"base_decode",{enumerable:!0,get:function(){return r.baseDecode}}),Object.defineProperty(e,"serialize",{enumerable:!0,get:function(){return r.serialize}}),Object.defineProperty(e,"deserialize",{enumerable:!0,get:function(){return r.deserialize}}),Object.defineProperty(e,"BorshError",{enumerable:!0,get:function(){return r.BorshError}}),Object.defineProperty(e,"BinaryWriter",{enumerable:!0,get:function(){return r.BinaryWriter}}),Object.defineProperty(e,"BinaryReader",{enumerable:!0,get:function(){return r.BinaryReader}})},1354:function(t,e,i){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,i,r){void 0===r&&(r=i),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,r){void 0===r&&(r=i),t[r]=e[i]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.hasOwnProperty.call(t,i)&&r(e,t,i);return n(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.logWarning=e.rpc_errors=e.KeyPairEd25519=e.KeyPair=e.PublicKey=e.format=e.enums=e.web=e.serialize=e.key_pair=void 0;const s=o(i(238));e.key_pair=s;const h=o(i(1351));e.serialize=h;const a=o(i(547));e.web=a;const u=o(i(795));e.enums=u;const l=o(i(1355));e.format=l;const f=o(i(797));e.rpc_errors=f;const c=i(238);Object.defineProperty(e,"PublicKey",{enumerable:!0,get:function(){return c.PublicKey}}),Object.defineProperty(e,"KeyPair",{enumerable:!0,get:function(){return c.KeyPair}}),Object.defineProperty(e,"KeyPairEd25519",{enumerable:!0,get:function(){return c.KeyPairEd25519}});const d=i(358);Object.defineProperty(e,"logWarning",{enumerable:!0,get:function(){return d.logWarning}})},1355:function(t,e,i){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.parseNearAmount=e.formatNearAmount=e.NEAR_NOMINATION=e.NEAR_NOMINATION_EXP=void 0;const n=r(i(301));e.NEAR_NOMINATION_EXP=24,e.NEAR_NOMINATION=new n.default("10",10).pow(new n.default(e.NEAR_NOMINATION_EXP,10));const o=[],s=new n.default(10);for(let t=0,i=new n.default(5);t<e.NEAR_NOMINATION_EXP;t++,i=i.mul(s))o[t]=i;e.formatNearAmount=function(t,i=e.NEAR_NOMINATION_EXP){const r=new n.default(t,10);if(i!==e.NEAR_NOMINATION_EXP){const t=e.NEAR_NOMINATION_EXP-i-1;t>0&&r.iadd(o[t])}const s=(t=r.toString()).substring(0,t.length-e.NEAR_NOMINATION_EXP)||"0",h=t.substring(t.length-e.NEAR_NOMINATION_EXP).padStart(e.NEAR_NOMINATION_EXP,"0").substring(0,i);return function(t){return t.replace(/\.?0*$/,"")}(`${function(t){const e=/(-?\d+)(\d{3})/;for(;e.test(t);)t=t.replace(e,"$1,$2");return t}(s)}.${h}`)},e.parseNearAmount=function(t){if(!t)return null;const i=(t=t.replace(/,/g,"").trim()).split("."),r=i[0],n=i[1]||"";if(i.length>2||n.length>e.NEAR_NOMINATION_EXP)throw new Error(`Cannot parse '${t}' as NEAR amount`);return function(t){if(""===(t=t.replace(/^0+/,"")))return"0";return t}(r+n.padEnd(e.NEAR_NOMINATION_EXP,"0"))}},1749:function(t,e,i){var r=i(156),n=i(81),o=i(911),s=require,h=process.config&&process.config.variables||{},a=!!process.env.PREBUILDS_ONLY,u=process.versions.modules,l=!(!process.versions||!process.versions.electron)||!!process.env.ELECTRON_RUN_AS_NODE||"undefined"!=typeof window&&window.process&&"renderer"===window.process.type?"electron":process.versions&&process.versions.nw?"node-webkit":"node",f=process.env.npm_config_arch||o.arch(),c=process.env.npm_config_platform||o.platform(),d=process.env.LIBC||(function(t){return"linux"===t&&r.existsSync("/etc/alpine-release")}(c)?"musl":"glibc"),m=process.env.ARM_VERSION||("arm64"===f?"8":h.arm_version)||"",p=(process.versions.uv||"").split(".")[0];function g(t){return s(g.path(t))}function y(t){try{return r.readdirSync(t)}catch(t){return[]}}function v(t,e){var i=y(t).filter(e);return i[0]&&n.join(t,i[0])}function w(t){return/\.node$/.test(t)}function M(t){var e=t.split("-");if(2===e.length){var i=e[0],r=e[1].split("+");if(i&&r.length&&r.every(Boolean))return{name:t,platform:i,architectures:r}}}function b(t,e){return function(i){return null!=i&&(i.platform===t&&i.architectures.includes(e))}}function _(t,e){return t.architectures.length-e.architectures.length}function A(t){var e=t.split("."),i={file:t,specificity:0};if("node"===e.pop()){for(var r=0;r<e.length;r++){var n=e[r];if("node"===n||"electron"===n||"node-webkit"===n)i.runtime=n;else if("napi"===n)i.napi=!0;else if("abi"===n.slice(0,3))i.abi=n.slice(3);else if("uv"===n.slice(0,2))i.uv=n.slice(2);else if("armv"===n.slice(0,4))i.armv=n.slice(4);else{if("glibc"!==n&&"musl"!==n)continue;i.libc=n}i.specificity++}return i}}function E(t,e){return function(i){return null!=i&&(!(i.runtime!==t&&!function(t){return"node"===t.runtime&&t.napi}(i))&&(!(i.abi!==e&&!i.napi)&&((!i.uv||i.uv===p)&&((!i.armv||i.armv===m)&&(!i.libc||i.libc===d)))))}}function k(t){return function(e,i){return e.runtime!==i.runtime?e.runtime===t?-1:1:e.abi!==i.abi?e.abi?-1:1:e.specificity!==i.specificity?e.specificity>i.specificity?-1:1:0}}t.exports=g,g.path=function(t){t=n.resolve(t||".");try{var e=s(n.join(t,"package.json")).name.toUpperCase().replace(/-/g,"_");process.env[e+"_PREBUILD"]&&(t=process.env[e+"_PREBUILD"])}catch(t){}if(!a){var i=v(n.join(t,"build/Release"),w);if(i)return i;var r=v(n.join(t,"build/Debug"),w);if(r)return r}var o=S(t);if(o)return o;var h=S(n.dirname(process.execPath));if(h)return h;var g=["platform="+c,"arch="+f,"runtime="+l,"abi="+u,"uv="+p,m?"armv="+m:"","libc="+d,"node="+process.versions.node,process.versions.electron?"electron="+process.versions.electron:"","webpack=true"].filter(Boolean).join(" ");throw new Error("No native build was found for "+g+"\n    loaded from: "+t+"\n");function S(t){var e=y(n.join(t,"prebuilds")).map(M).filter(b(c,f)).sort(_)[0];if(e){var i=n.join(t,"prebuilds",e.name),r=y(i).map(A).filter(E(l,u)).sort(k(l))[0];return r?n.join(i,r.file):void 0}}},g.parseTags=A,g.matchTags=E,g.compareTags=k,g.parseTuple=M,g.matchTuple=b,g.compareTuples=_},238:function(t,e,i){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.KeyPairEd25519=e.KeyPair=e.PublicKey=e.KeyType=void 0;const n=r(i(79)),o=i(1351),s=i(795);var h;function a(t){switch(t.toLowerCase()){case"ed25519":return h.ED25519;default:throw new Error("Unknown key type "+t)}}!function(t){t[t.ED25519=0]="ED25519"}(h=e.KeyType||(e.KeyType={}));class PublicKey extends s.Assignable{static from(t){return"string"==typeof t?PublicKey.fromString(t):t}static fromString(t){const e=t.split(":");if(1===e.length)return new PublicKey({keyType:h.ED25519,data:o.base_decode(e[0])});if(2===e.length)return new PublicKey({keyType:a(e[0]),data:o.base_decode(e[1])});throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}toString(){return`${function(t){switch(t){case h.ED25519:return"ed25519";default:throw new Error("Unknown key type "+t)}}(this.keyType)}:${o.base_encode(this.data)}`}verify(t,e){switch(this.keyType){case h.ED25519:return n.default.sign.detached.verify(t,e,this.data);default:throw new Error("Unknown key type "+this.keyType)}}}e.PublicKey=PublicKey;class KeyPair{static fromRandom(t){switch(t.toUpperCase()){case"ED25519":return KeyPairEd25519.fromRandom();default:throw new Error("Unknown curve "+t)}}static fromString(t){const e=t.split(":");if(1===e.length)return new KeyPairEd25519(e[0]);if(2!==e.length)throw new Error("Invalid encoded key format, must be <curve>:<encoded key>");switch(e[0].toUpperCase()){case"ED25519":return new KeyPairEd25519(e[1]);default:throw new Error("Unknown curve: "+e[0])}}}e.KeyPair=KeyPair;class KeyPairEd25519 extends KeyPair{constructor(t){super();const e=n.default.sign.keyPair.fromSecretKey(o.base_decode(t));this.publicKey=new PublicKey({keyType:h.ED25519,data:e.publicKey}),this.secretKey=t}static fromRandom(){const t=n.default.sign.keyPair();return new KeyPairEd25519(o.base_encode(t.secretKey))}sign(t){return{signature:n.default.sign.detached(t,o.base_decode(this.secretKey)),publicKey:this.publicKey}}verify(t,e){return this.publicKey.verify(t,e)}toString(){return"ed25519:"+this.secretKey}getPublicKey(){return this.publicKey}}e.KeyPairEd25519=KeyPairEd25519},2925:function(t,e,i){(function(t){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}function o(t,e,i){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(i=e,e=10),this._init(t||0,e||10,i||"be"))}var s;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:i(6).Buffer}catch(t){}function h(t,e){var i=t.charCodeAt(e);return i>=48&&i<=57?i-48:i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:void r(!1,"Invalid character in "+t)}function a(t,e,i){var r=h(t,i);return i-1>=e&&(r|=h(t,i-1)<<4),r}function u(t,e,i,n){for(var o=0,s=0,h=Math.min(t.length,i),a=e;a<h;a++){var u=t.charCodeAt(a)-48;o*=n,s=u>=49?u-49+10:u>=17?u-17+10:u,r(u>=0&&s<n,"Invalid character"),o+=s}return o}function l(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,i){if("number"==typeof t)return this._initNumber(t,e,i);if("object"==typeof t)return this._initArray(t,e,i);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var n=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<t.length&&(16===e?this._parseHex(t,n,i):(this._parseBase(t,e,n),"le"===i&&this._initArray(this.toArray(),e,i)))},o.prototype._initNumber=function(t,e,i){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),e,i)},o.prototype._initArray=function(t,e,i){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var o,s,h=0;if("be"===i)for(n=t.length-1,o=0;n>=0;n-=3)s=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[o]|=s<<h&67108863,this.words[o+1]=s>>>26-h&67108863,(h+=24)>=26&&(h-=26,o++);else if("le"===i)for(n=0,o=0;n<t.length;n+=3)s=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[o]|=s<<h&67108863,this.words[o+1]=s>>>26-h&67108863,(h+=24)>=26&&(h-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,i){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,o=0,s=0;if("be"===i)for(r=t.length-1;r>=e;r-=2)n=a(t,e,r)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;else for(r=(t.length-e)%2==0?e+1:e;r<t.length;r+=2)n=a(t,e,r)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,i){this.words=[0],this.length=1;for(var r=0,n=1;n<=67108863;n*=e)r++;r--,n=n/e|0;for(var o=t.length-i,s=o%r,h=Math.min(o,o-s)+i,a=0,l=i;l<h;l+=r)a=u(t,l,l+r,e),this.imuln(n),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(0!==s){var f=1;for(a=u(t,l,t.length,e),l=0;l<s;l++)f*=e;this.imuln(f),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){l(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch(t){o.prototype.inspect=f}else o.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){var i;if(e=0|e||1,16===(t=t||10)||"hex"===t){i="";for(var n=0,o=0,s=0;s<this.length;s++){var h=this.words[s],a=(16777215&(h<<n|o)).toString(16);o=h>>>24-n&16777215,(n+=2)>=26&&(n-=26,s--),i=0!==o||s!==this.length-1?c[6-a.length]+a+i:a+i}for(0!==o&&(i=o.toString(16)+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(t===(0|t)&&t>=2&&t<=36){var u=d[t],l=m[t];i="";var f=this.clone();for(f.negative=0;!f.isZero();){var p=f.modrn(l).toString(t);i=(f=f.idivn(l)).isZero()?p+i:c[u-p.length]+p+i}for(this.isZero()&&(i="0"+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function p(t,e,i){i.negative=e.negative^t.negative;var r=t.length+e.length|0;i.length=r,r=r-1|0;var n=0|t.words[0],o=0|e.words[0],s=n*o,h=67108863&s,a=s/67108864|0;i.words[0]=h;for(var u=1;u<r;u++){for(var l=a>>>26,f=67108863&a,c=Math.min(u,e.length-1),d=Math.max(0,u-t.length+1);d<=c;d++){var m=u-d|0;l+=(s=(n=0|t.words[m])*(o=0|e.words[d])+f)/67108864|0,f=67108863&s}i.words[u]=0|f,a=0|l}return 0!==a?i.words[u]=0|a:i.length--,i._strip()}o.prototype.toArrayLike=function(t,e,i){this._strip();var n=this.byteLength(),o=i||Math.max(1,n);r(n<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0");var s=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](s,n),s},o.prototype._toArrayLikeLE=function(t,e){for(var i=0,r=0,n=0,o=0;n<this.length;n++){var s=this.words[n]<<o|r;t[i++]=255&s,i<t.length&&(t[i++]=s>>8&255),i<t.length&&(t[i++]=s>>16&255),6===o?(i<t.length&&(t[i++]=s>>24&255),r=0,o=0):(r=s>>>24,o+=2)}if(i<t.length)for(t[i++]=r;i<t.length;)t[i++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var i=t.length-1,r=0,n=0,o=0;n<this.length;n++){var s=this.words[n]<<o|r;t[i--]=255&s,i>=0&&(t[i--]=s>>8&255),i>=0&&(t[i--]=s>>16&255),6===o?(i>=0&&(t[i--]=s>>24&255),r=0,o=0):(r=s>>>24,o+=2)}if(i>=0)for(t[i--]=r;i>=0;)t[i--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,i=0;return e>=4096&&(i+=13,e>>>=13),e>=64&&(i+=7,e>>>=7),e>=8&&(i+=4,e>>>=4),e>=2&&(i+=2,e>>>=2),i+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,i=0;return 0==(8191&e)&&(i+=13,e>>>=13),0==(127&e)&&(i+=7,e>>>=7),0==(15&e)&&(i+=4,e>>>=4),0==(3&e)&&(i+=2,e>>>=2),0==(1&e)&&i++,i},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var i=this._zeroBits(this.words[e]);if(t+=i,26!==i)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var i=0;i<e.length;i++)this.words[i]=this.words[i]&t.words[i];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,i;this.length>t.length?(e=this,i=t):(e=t,i=this);for(var r=0;r<i.length;r++)this.words[r]=e.words[r]^i.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),i=t%26;this._expand(e),i>0&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return i>0&&(this.words[n]=~this.words[n]&67108863>>26-i),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var i=t/26|0,n=t%26;return this._expand(i+1),this.words[i]=e?this.words[i]|1<<n:this.words[i]&~(1<<n),this._strip()},o.prototype.iadd=function(t){var e,i,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(i=this,r=t):(i=t,r=this);for(var n=0,o=0;o<r.length;o++)e=(0|i.words[o])+(0|r.words[o])+n,this.words[o]=67108863&e,n=e>>>26;for(;0!==n&&o<i.length;o++)e=(0|i.words[o])+n,this.words[o]=67108863&e,n=e>>>26;if(this.length=i.length,0!==n)this.words[this.length]=n,this.length++;else if(i!==this)for(;o<i.length;o++)this.words[o]=i.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var i,r,n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(i=this,r=t):(i=t,r=this);for(var o=0,s=0;s<r.length;s++)o=(e=(0|i.words[s])-(0|r.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<i.length;s++)o=(e=(0|i.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<i.length&&i!==this)for(;s<i.length;s++)this.words[s]=i.words[s];return this.length=Math.max(this.length,s),i!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,i){var r,n,o,s=t.words,h=e.words,a=i.words,u=0,l=0|s[0],f=8191&l,c=l>>>13,d=0|s[1],m=8191&d,p=d>>>13,g=0|s[2],y=8191&g,v=g>>>13,w=0|s[3],M=8191&w,b=w>>>13,_=0|s[4],A=8191&_,E=_>>>13,k=0|s[5],S=8191&k,P=k>>>13,T=0|s[6],x=8191&T,N=T>>>13,R=0|s[7],B=8191&R,K=R>>>13,I=0|s[8],O=8191&I,C=I>>>13,U=0|s[9],j=8191&U,D=U>>>13,q=0|h[0],L=8191&q,F=q>>>13,z=0|h[1],Z=8191&z,$=z>>>13,W=0|h[2],H=8191&W,J=W>>>13,X=0|h[3],V=8191&X,G=X>>>13,Y=0|h[4],Q=8191&Y,tt=Y>>>13,et=0|h[5],it=8191&et,rt=et>>>13,nt=0|h[6],ot=8191&nt,st=nt>>>13,ht=0|h[7],at=8191&ht,ut=ht>>>13,lt=0|h[8],ft=8191&lt,ct=lt>>>13,dt=0|h[9],mt=8191&dt,pt=dt>>>13;i.negative=t.negative^e.negative,i.length=19;var gt=(u+(r=Math.imul(f,L))|0)+((8191&(n=(n=Math.imul(f,F))+Math.imul(c,L)|0))<<13)|0;u=((o=Math.imul(c,F))+(n>>>13)|0)+(gt>>>26)|0,gt&=67108863,r=Math.imul(m,L),n=(n=Math.imul(m,F))+Math.imul(p,L)|0,o=Math.imul(p,F);var yt=(u+(r=r+Math.imul(f,Z)|0)|0)+((8191&(n=(n=n+Math.imul(f,$)|0)+Math.imul(c,Z)|0))<<13)|0;u=((o=o+Math.imul(c,$)|0)+(n>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(y,L),n=(n=Math.imul(y,F))+Math.imul(v,L)|0,o=Math.imul(v,F),r=r+Math.imul(m,Z)|0,n=(n=n+Math.imul(m,$)|0)+Math.imul(p,Z)|0,o=o+Math.imul(p,$)|0;var vt=(u+(r=r+Math.imul(f,H)|0)|0)+((8191&(n=(n=n+Math.imul(f,J)|0)+Math.imul(c,H)|0))<<13)|0;u=((o=o+Math.imul(c,J)|0)+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(M,L),n=(n=Math.imul(M,F))+Math.imul(b,L)|0,o=Math.imul(b,F),r=r+Math.imul(y,Z)|0,n=(n=n+Math.imul(y,$)|0)+Math.imul(v,Z)|0,o=o+Math.imul(v,$)|0,r=r+Math.imul(m,H)|0,n=(n=n+Math.imul(m,J)|0)+Math.imul(p,H)|0,o=o+Math.imul(p,J)|0;var wt=(u+(r=r+Math.imul(f,V)|0)|0)+((8191&(n=(n=n+Math.imul(f,G)|0)+Math.imul(c,V)|0))<<13)|0;u=((o=o+Math.imul(c,G)|0)+(n>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(A,L),n=(n=Math.imul(A,F))+Math.imul(E,L)|0,o=Math.imul(E,F),r=r+Math.imul(M,Z)|0,n=(n=n+Math.imul(M,$)|0)+Math.imul(b,Z)|0,o=o+Math.imul(b,$)|0,r=r+Math.imul(y,H)|0,n=(n=n+Math.imul(y,J)|0)+Math.imul(v,H)|0,o=o+Math.imul(v,J)|0,r=r+Math.imul(m,V)|0,n=(n=n+Math.imul(m,G)|0)+Math.imul(p,V)|0,o=o+Math.imul(p,G)|0;var Mt=(u+(r=r+Math.imul(f,Q)|0)|0)+((8191&(n=(n=n+Math.imul(f,tt)|0)+Math.imul(c,Q)|0))<<13)|0;u=((o=o+Math.imul(c,tt)|0)+(n>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(S,L),n=(n=Math.imul(S,F))+Math.imul(P,L)|0,o=Math.imul(P,F),r=r+Math.imul(A,Z)|0,n=(n=n+Math.imul(A,$)|0)+Math.imul(E,Z)|0,o=o+Math.imul(E,$)|0,r=r+Math.imul(M,H)|0,n=(n=n+Math.imul(M,J)|0)+Math.imul(b,H)|0,o=o+Math.imul(b,J)|0,r=r+Math.imul(y,V)|0,n=(n=n+Math.imul(y,G)|0)+Math.imul(v,V)|0,o=o+Math.imul(v,G)|0,r=r+Math.imul(m,Q)|0,n=(n=n+Math.imul(m,tt)|0)+Math.imul(p,Q)|0,o=o+Math.imul(p,tt)|0;var bt=(u+(r=r+Math.imul(f,it)|0)|0)+((8191&(n=(n=n+Math.imul(f,rt)|0)+Math.imul(c,it)|0))<<13)|0;u=((o=o+Math.imul(c,rt)|0)+(n>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(x,L),n=(n=Math.imul(x,F))+Math.imul(N,L)|0,o=Math.imul(N,F),r=r+Math.imul(S,Z)|0,n=(n=n+Math.imul(S,$)|0)+Math.imul(P,Z)|0,o=o+Math.imul(P,$)|0,r=r+Math.imul(A,H)|0,n=(n=n+Math.imul(A,J)|0)+Math.imul(E,H)|0,o=o+Math.imul(E,J)|0,r=r+Math.imul(M,V)|0,n=(n=n+Math.imul(M,G)|0)+Math.imul(b,V)|0,o=o+Math.imul(b,G)|0,r=r+Math.imul(y,Q)|0,n=(n=n+Math.imul(y,tt)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,tt)|0,r=r+Math.imul(m,it)|0,n=(n=n+Math.imul(m,rt)|0)+Math.imul(p,it)|0,o=o+Math.imul(p,rt)|0;var _t=(u+(r=r+Math.imul(f,ot)|0)|0)+((8191&(n=(n=n+Math.imul(f,st)|0)+Math.imul(c,ot)|0))<<13)|0;u=((o=o+Math.imul(c,st)|0)+(n>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(B,L),n=(n=Math.imul(B,F))+Math.imul(K,L)|0,o=Math.imul(K,F),r=r+Math.imul(x,Z)|0,n=(n=n+Math.imul(x,$)|0)+Math.imul(N,Z)|0,o=o+Math.imul(N,$)|0,r=r+Math.imul(S,H)|0,n=(n=n+Math.imul(S,J)|0)+Math.imul(P,H)|0,o=o+Math.imul(P,J)|0,r=r+Math.imul(A,V)|0,n=(n=n+Math.imul(A,G)|0)+Math.imul(E,V)|0,o=o+Math.imul(E,G)|0,r=r+Math.imul(M,Q)|0,n=(n=n+Math.imul(M,tt)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,tt)|0,r=r+Math.imul(y,it)|0,n=(n=n+Math.imul(y,rt)|0)+Math.imul(v,it)|0,o=o+Math.imul(v,rt)|0,r=r+Math.imul(m,ot)|0,n=(n=n+Math.imul(m,st)|0)+Math.imul(p,ot)|0,o=o+Math.imul(p,st)|0;var At=(u+(r=r+Math.imul(f,at)|0)|0)+((8191&(n=(n=n+Math.imul(f,ut)|0)+Math.imul(c,at)|0))<<13)|0;u=((o=o+Math.imul(c,ut)|0)+(n>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(O,L),n=(n=Math.imul(O,F))+Math.imul(C,L)|0,o=Math.imul(C,F),r=r+Math.imul(B,Z)|0,n=(n=n+Math.imul(B,$)|0)+Math.imul(K,Z)|0,o=o+Math.imul(K,$)|0,r=r+Math.imul(x,H)|0,n=(n=n+Math.imul(x,J)|0)+Math.imul(N,H)|0,o=o+Math.imul(N,J)|0,r=r+Math.imul(S,V)|0,n=(n=n+Math.imul(S,G)|0)+Math.imul(P,V)|0,o=o+Math.imul(P,G)|0,r=r+Math.imul(A,Q)|0,n=(n=n+Math.imul(A,tt)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,tt)|0,r=r+Math.imul(M,it)|0,n=(n=n+Math.imul(M,rt)|0)+Math.imul(b,it)|0,o=o+Math.imul(b,rt)|0,r=r+Math.imul(y,ot)|0,n=(n=n+Math.imul(y,st)|0)+Math.imul(v,ot)|0,o=o+Math.imul(v,st)|0,r=r+Math.imul(m,at)|0,n=(n=n+Math.imul(m,ut)|0)+Math.imul(p,at)|0,o=o+Math.imul(p,ut)|0;var Et=(u+(r=r+Math.imul(f,ft)|0)|0)+((8191&(n=(n=n+Math.imul(f,ct)|0)+Math.imul(c,ft)|0))<<13)|0;u=((o=o+Math.imul(c,ct)|0)+(n>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(j,L),n=(n=Math.imul(j,F))+Math.imul(D,L)|0,o=Math.imul(D,F),r=r+Math.imul(O,Z)|0,n=(n=n+Math.imul(O,$)|0)+Math.imul(C,Z)|0,o=o+Math.imul(C,$)|0,r=r+Math.imul(B,H)|0,n=(n=n+Math.imul(B,J)|0)+Math.imul(K,H)|0,o=o+Math.imul(K,J)|0,r=r+Math.imul(x,V)|0,n=(n=n+Math.imul(x,G)|0)+Math.imul(N,V)|0,o=o+Math.imul(N,G)|0,r=r+Math.imul(S,Q)|0,n=(n=n+Math.imul(S,tt)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,tt)|0,r=r+Math.imul(A,it)|0,n=(n=n+Math.imul(A,rt)|0)+Math.imul(E,it)|0,o=o+Math.imul(E,rt)|0,r=r+Math.imul(M,ot)|0,n=(n=n+Math.imul(M,st)|0)+Math.imul(b,ot)|0,o=o+Math.imul(b,st)|0,r=r+Math.imul(y,at)|0,n=(n=n+Math.imul(y,ut)|0)+Math.imul(v,at)|0,o=o+Math.imul(v,ut)|0,r=r+Math.imul(m,ft)|0,n=(n=n+Math.imul(m,ct)|0)+Math.imul(p,ft)|0,o=o+Math.imul(p,ct)|0;var kt=(u+(r=r+Math.imul(f,mt)|0)|0)+((8191&(n=(n=n+Math.imul(f,pt)|0)+Math.imul(c,mt)|0))<<13)|0;u=((o=o+Math.imul(c,pt)|0)+(n>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(j,Z),n=(n=Math.imul(j,$))+Math.imul(D,Z)|0,o=Math.imul(D,$),r=r+Math.imul(O,H)|0,n=(n=n+Math.imul(O,J)|0)+Math.imul(C,H)|0,o=o+Math.imul(C,J)|0,r=r+Math.imul(B,V)|0,n=(n=n+Math.imul(B,G)|0)+Math.imul(K,V)|0,o=o+Math.imul(K,G)|0,r=r+Math.imul(x,Q)|0,n=(n=n+Math.imul(x,tt)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,tt)|0,r=r+Math.imul(S,it)|0,n=(n=n+Math.imul(S,rt)|0)+Math.imul(P,it)|0,o=o+Math.imul(P,rt)|0,r=r+Math.imul(A,ot)|0,n=(n=n+Math.imul(A,st)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,st)|0,r=r+Math.imul(M,at)|0,n=(n=n+Math.imul(M,ut)|0)+Math.imul(b,at)|0,o=o+Math.imul(b,ut)|0,r=r+Math.imul(y,ft)|0,n=(n=n+Math.imul(y,ct)|0)+Math.imul(v,ft)|0,o=o+Math.imul(v,ct)|0;var St=(u+(r=r+Math.imul(m,mt)|0)|0)+((8191&(n=(n=n+Math.imul(m,pt)|0)+Math.imul(p,mt)|0))<<13)|0;u=((o=o+Math.imul(p,pt)|0)+(n>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(j,H),n=(n=Math.imul(j,J))+Math.imul(D,H)|0,o=Math.imul(D,J),r=r+Math.imul(O,V)|0,n=(n=n+Math.imul(O,G)|0)+Math.imul(C,V)|0,o=o+Math.imul(C,G)|0,r=r+Math.imul(B,Q)|0,n=(n=n+Math.imul(B,tt)|0)+Math.imul(K,Q)|0,o=o+Math.imul(K,tt)|0,r=r+Math.imul(x,it)|0,n=(n=n+Math.imul(x,rt)|0)+Math.imul(N,it)|0,o=o+Math.imul(N,rt)|0,r=r+Math.imul(S,ot)|0,n=(n=n+Math.imul(S,st)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,st)|0,r=r+Math.imul(A,at)|0,n=(n=n+Math.imul(A,ut)|0)+Math.imul(E,at)|0,o=o+Math.imul(E,ut)|0,r=r+Math.imul(M,ft)|0,n=(n=n+Math.imul(M,ct)|0)+Math.imul(b,ft)|0,o=o+Math.imul(b,ct)|0;var Pt=(u+(r=r+Math.imul(y,mt)|0)|0)+((8191&(n=(n=n+Math.imul(y,pt)|0)+Math.imul(v,mt)|0))<<13)|0;u=((o=o+Math.imul(v,pt)|0)+(n>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,r=Math.imul(j,V),n=(n=Math.imul(j,G))+Math.imul(D,V)|0,o=Math.imul(D,G),r=r+Math.imul(O,Q)|0,n=(n=n+Math.imul(O,tt)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,tt)|0,r=r+Math.imul(B,it)|0,n=(n=n+Math.imul(B,rt)|0)+Math.imul(K,it)|0,o=o+Math.imul(K,rt)|0,r=r+Math.imul(x,ot)|0,n=(n=n+Math.imul(x,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,r=r+Math.imul(S,at)|0,n=(n=n+Math.imul(S,ut)|0)+Math.imul(P,at)|0,o=o+Math.imul(P,ut)|0,r=r+Math.imul(A,ft)|0,n=(n=n+Math.imul(A,ct)|0)+Math.imul(E,ft)|0,o=o+Math.imul(E,ct)|0;var Tt=(u+(r=r+Math.imul(M,mt)|0)|0)+((8191&(n=(n=n+Math.imul(M,pt)|0)+Math.imul(b,mt)|0))<<13)|0;u=((o=o+Math.imul(b,pt)|0)+(n>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,r=Math.imul(j,Q),n=(n=Math.imul(j,tt))+Math.imul(D,Q)|0,o=Math.imul(D,tt),r=r+Math.imul(O,it)|0,n=(n=n+Math.imul(O,rt)|0)+Math.imul(C,it)|0,o=o+Math.imul(C,rt)|0,r=r+Math.imul(B,ot)|0,n=(n=n+Math.imul(B,st)|0)+Math.imul(K,ot)|0,o=o+Math.imul(K,st)|0,r=r+Math.imul(x,at)|0,n=(n=n+Math.imul(x,ut)|0)+Math.imul(N,at)|0,o=o+Math.imul(N,ut)|0,r=r+Math.imul(S,ft)|0,n=(n=n+Math.imul(S,ct)|0)+Math.imul(P,ft)|0,o=o+Math.imul(P,ct)|0;var xt=(u+(r=r+Math.imul(A,mt)|0)|0)+((8191&(n=(n=n+Math.imul(A,pt)|0)+Math.imul(E,mt)|0))<<13)|0;u=((o=o+Math.imul(E,pt)|0)+(n>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(j,it),n=(n=Math.imul(j,rt))+Math.imul(D,it)|0,o=Math.imul(D,rt),r=r+Math.imul(O,ot)|0,n=(n=n+Math.imul(O,st)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,st)|0,r=r+Math.imul(B,at)|0,n=(n=n+Math.imul(B,ut)|0)+Math.imul(K,at)|0,o=o+Math.imul(K,ut)|0,r=r+Math.imul(x,ft)|0,n=(n=n+Math.imul(x,ct)|0)+Math.imul(N,ft)|0,o=o+Math.imul(N,ct)|0;var Nt=(u+(r=r+Math.imul(S,mt)|0)|0)+((8191&(n=(n=n+Math.imul(S,pt)|0)+Math.imul(P,mt)|0))<<13)|0;u=((o=o+Math.imul(P,pt)|0)+(n>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,r=Math.imul(j,ot),n=(n=Math.imul(j,st))+Math.imul(D,ot)|0,o=Math.imul(D,st),r=r+Math.imul(O,at)|0,n=(n=n+Math.imul(O,ut)|0)+Math.imul(C,at)|0,o=o+Math.imul(C,ut)|0,r=r+Math.imul(B,ft)|0,n=(n=n+Math.imul(B,ct)|0)+Math.imul(K,ft)|0,o=o+Math.imul(K,ct)|0;var Rt=(u+(r=r+Math.imul(x,mt)|0)|0)+((8191&(n=(n=n+Math.imul(x,pt)|0)+Math.imul(N,mt)|0))<<13)|0;u=((o=o+Math.imul(N,pt)|0)+(n>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,r=Math.imul(j,at),n=(n=Math.imul(j,ut))+Math.imul(D,at)|0,o=Math.imul(D,ut),r=r+Math.imul(O,ft)|0,n=(n=n+Math.imul(O,ct)|0)+Math.imul(C,ft)|0,o=o+Math.imul(C,ct)|0;var Bt=(u+(r=r+Math.imul(B,mt)|0)|0)+((8191&(n=(n=n+Math.imul(B,pt)|0)+Math.imul(K,mt)|0))<<13)|0;u=((o=o+Math.imul(K,pt)|0)+(n>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,r=Math.imul(j,ft),n=(n=Math.imul(j,ct))+Math.imul(D,ft)|0,o=Math.imul(D,ct);var Kt=(u+(r=r+Math.imul(O,mt)|0)|0)+((8191&(n=(n=n+Math.imul(O,pt)|0)+Math.imul(C,mt)|0))<<13)|0;u=((o=o+Math.imul(C,pt)|0)+(n>>>13)|0)+(Kt>>>26)|0,Kt&=67108863;var It=(u+(r=Math.imul(j,mt))|0)+((8191&(n=(n=Math.imul(j,pt))+Math.imul(D,mt)|0))<<13)|0;return u=((o=Math.imul(D,pt))+(n>>>13)|0)+(It>>>26)|0,It&=67108863,a[0]=gt,a[1]=yt,a[2]=vt,a[3]=wt,a[4]=Mt,a[5]=bt,a[6]=_t,a[7]=At,a[8]=Et,a[9]=kt,a[10]=St,a[11]=Pt,a[12]=Tt,a[13]=xt,a[14]=Nt,a[15]=Rt,a[16]=Bt,a[17]=Kt,a[18]=It,0!==u&&(a[19]=u,i.length++),i};function y(t,e,i){i.negative=e.negative^t.negative,i.length=t.length+e.length;for(var r=0,n=0,o=0;o<i.length-1;o++){var s=n;n=0;for(var h=67108863&r,a=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=a;u++){var l=o-u,f=(0|t.words[l])*(0|e.words[u]),c=67108863&f;h=67108863&(c=c+h|0),n+=(s=(s=s+(f/67108864|0)|0)+(c>>>26)|0)>>>26,s&=67108863}i.words[o]=h,r=s,s=n}return 0!==r?i.words[o]=r:i.length--,i._strip()}function v(t,e,i){return y(t,e,i)}function w(t,e){this.x=t,this.y=e}Math.imul||(g=p),o.prototype.mulTo=function(t,e){var i=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):i<63?p(this,t,e):i<1024?y(this,t,e):v(this,t,e)},w.prototype.makeRBT=function(t){for(var e=new Array(t),i=o.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,i,t);return e},w.prototype.revBin=function(t,e,i){if(0===t||t===i-1)return t;for(var r=0,n=0;n<e;n++)r|=(1&t)<<e-n-1,t>>=1;return r},w.prototype.permute=function(t,e,i,r,n,o){for(var s=0;s<o;s++)r[s]=e[t[s]],n[s]=i[t[s]]},w.prototype.transform=function(t,e,i,r,n,o){this.permute(o,t,e,i,r,n);for(var s=1;s<n;s<<=1)for(var h=s<<1,a=Math.cos(2*Math.PI/h),u=Math.sin(2*Math.PI/h),l=0;l<n;l+=h)for(var f=a,c=u,d=0;d<s;d++){var m=i[l+d],p=r[l+d],g=i[l+d+s],y=r[l+d+s],v=f*g-c*y;y=f*y+c*g,g=v,i[l+d]=m+g,r[l+d]=p+y,i[l+d+s]=m-g,r[l+d+s]=p-y,d!==h&&(v=a*f-u*c,c=a*c+u*f,f=v)}},w.prototype.guessLen13b=function(t,e){var i=1|Math.max(e,t),r=1&i,n=0;for(i=i/2|0;i;i>>>=1)n++;return 1<<n+1+r},w.prototype.conjugate=function(t,e,i){if(!(i<=1))for(var r=0;r<i/2;r++){var n=t[r];t[r]=t[i-r-1],t[i-r-1]=n,n=e[r],e[r]=-e[i-r-1],e[i-r-1]=-n}},w.prototype.normalize13b=function(t,e){for(var i=0,r=0;r<e/2;r++){var n=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+i;t[r]=67108863&n,i=n<67108864?0:n/67108864|0}return t},w.prototype.convert13b=function(t,e,i,n){for(var o=0,s=0;s<e;s++)o+=0|t[s],i[2*s]=8191&o,o>>>=13,i[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<n;++s)i[s]=0;r(0===o),r(0==(-8192&o))},w.prototype.stub=function(t){for(var e=new Array(t),i=0;i<t;i++)e[i]=0;return e},w.prototype.mulp=function(t,e,i){var r=2*this.guessLen13b(t.length,e.length),n=this.makeRBT(r),o=this.stub(r),s=new Array(r),h=new Array(r),a=new Array(r),u=new Array(r),l=new Array(r),f=new Array(r),c=i.words;c.length=r,this.convert13b(t.words,t.length,s,r),this.convert13b(e.words,e.length,u,r),this.transform(s,o,h,a,r,n),this.transform(u,o,l,f,r,n);for(var d=0;d<r;d++){var m=h[d]*l[d]-a[d]*f[d];a[d]=h[d]*f[d]+a[d]*l[d],h[d]=m}return this.conjugate(h,a,r),this.transform(h,a,c,o,r,n),this.conjugate(c,o,r),this.normalize13b(c,r),i.negative=t.negative^e.negative,i.length=t.length+e.length,i._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),v(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),r("number"==typeof t),r(t<67108864);for(var i=0,n=0;n<this.length;n++){var o=(0|this.words[n])*t,s=(67108863&o)+(67108863&i);i>>=26,i+=o/67108864|0,i+=s>>>26,this.words[n]=67108863&s}return 0!==i&&(this.words[n]=i,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),i=0;i<e.length;i++){var r=i/26|0,n=i%26;e[i]=t.words[r]>>>n&1}return e}(t);if(0===e.length)return new o(1);for(var i=this,r=0;r<e.length&&0===e[r];r++,i=i.sqr());if(++r<e.length)for(var n=i.sqr();r<e.length;r++,n=n.sqr())0!==e[r]&&(i=i.mul(n));return i},o.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,i=t%26,n=(t-i)/26,o=67108863>>>26-i<<26-i;if(0!==i){var s=0;for(e=0;e<this.length;e++){var h=this.words[e]&o,a=(0|this.words[e])-h<<i;this.words[e]=a|s,s=h>>>26-i}s&&(this.words[e]=s,this.length++)}if(0!==n){for(e=this.length-1;e>=0;e--)this.words[e+n]=this.words[e];for(e=0;e<n;e++)this.words[e]=0;this.length+=n}return this._strip()},o.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,i){var n;r("number"==typeof t&&t>=0),n=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),h=67108863^67108863>>>o<<o,a=i;if(n-=s,n=Math.max(0,n),a){for(var u=0;u<s;u++)a.words[u]=this.words[u];a.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=n);u--){var f=0|this.words[u];this.words[u]=l<<26-o|f>>>o,l=f&h}return a&&0!==l&&(a.words[a.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,i){return r(0===this.negative),this.iushrn(t,e,i)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26,n=1<<e;return!(this.length<=i)&&!!(this.words[i]&n)},o.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==e&&i++,this.length=Math.min(i,this.length),0!==e){var n=67108863^67108863>>>e<<e;this.words[this.length-1]&=n}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,i){var n,o,s=t.length+i;this._expand(s);var h=0;for(n=0;n<t.length;n++){o=(0|this.words[n+i])+h;var a=(0|t.words[n])*e;h=((o-=67108863&a)>>26)-(a/67108864|0),this.words[n+i]=67108863&o}for(;n<this.length-i;n++)h=(o=(0|this.words[n+i])+h)>>26,this.words[n+i]=67108863&o;if(0===h)return this._strip();for(r(-1===h),h=0,n=0;n<this.length;n++)h=(o=-(0|this.words[n])+h)>>26,this.words[n]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var i=(this.length,t.length),r=this.clone(),n=t,s=0|n.words[n.length-1];0!==(i=26-this._countBits(s))&&(n=n.ushln(i),r.iushln(i),s=0|n.words[n.length-1]);var h,a=r.length-n.length;if("mod"!==e){(h=new o(null)).length=a+1,h.words=new Array(h.length);for(var u=0;u<h.length;u++)h.words[u]=0}var l=r.clone()._ishlnsubmul(n,1,a);0===l.negative&&(r=l,h&&(h.words[a]=1));for(var f=a-1;f>=0;f--){var c=67108864*(0|r.words[n.length+f])+(0|r.words[n.length+f-1]);for(c=Math.min(c/s|0,67108863),r._ishlnsubmul(n,c,f);0!==r.negative;)c--,r.negative=0,r._ishlnsubmul(n,1,f),r.isZero()||(r.negative^=1);h&&(h.words[f]=c)}return h&&h._strip(),r._strip(),"div"!==e&&0!==i&&r.iushrn(i),{div:h||null,mod:r}},o.prototype.divmod=function(t,e,i){return r(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(h=this.neg().divmod(t,e),"mod"!==e&&(n=h.div.neg()),"div"!==e&&(s=h.mod.neg(),i&&0!==s.negative&&s.iadd(t)),{div:n,mod:s}):0===this.negative&&0!==t.negative?(h=this.divmod(t.neg(),e),"mod"!==e&&(n=h.div.neg()),{div:n,mod:h.mod}):0!=(this.negative&t.negative)?(h=this.neg().divmod(t.neg(),e),"div"!==e&&(s=h.mod.neg(),i&&0!==s.negative&&s.isub(t)),{div:h.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var n,s,h},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var i=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),n=t.andln(1),o=i.cmp(r);return o<0||1===n&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var i=(1<<26)%t,n=0,o=this.length-1;o>=0;o--)n=(i*n+(0|this.words[o]))%t;return e?-n:n},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var i=0,n=this.length-1;n>=0;n--){var o=(0|this.words[n])+67108864*i;this.words[n]=o/t|0,i=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var n=new o(1),s=new o(0),h=new o(0),a=new o(1),u=0;e.isEven()&&i.isEven();)e.iushrn(1),i.iushrn(1),++u;for(var l=i.clone(),f=e.clone();!e.isZero();){for(var c=0,d=1;0==(e.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(e.iushrn(c);c-- >0;)(n.isOdd()||s.isOdd())&&(n.iadd(l),s.isub(f)),n.iushrn(1),s.iushrn(1);for(var m=0,p=1;0==(i.words[0]&p)&&m<26;++m,p<<=1);if(m>0)for(i.iushrn(m);m-- >0;)(h.isOdd()||a.isOdd())&&(h.iadd(l),a.isub(f)),h.iushrn(1),a.iushrn(1);e.cmp(i)>=0?(e.isub(i),n.isub(h),s.isub(a)):(i.isub(e),h.isub(n),a.isub(s))}return{a:h,b:a,gcd:i.iushln(u)}},o.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var n,s=new o(1),h=new o(0),a=i.clone();e.cmpn(1)>0&&i.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(a),s.iushrn(1);for(var f=0,c=1;0==(i.words[0]&c)&&f<26;++f,c<<=1);if(f>0)for(i.iushrn(f);f-- >0;)h.isOdd()&&h.iadd(a),h.iushrn(1);e.cmp(i)>=0?(e.isub(i),s.isub(h)):(i.isub(e),h.isub(s))}return(n=0===e.cmpn(1)?s:h).cmpn(0)<0&&n.iadd(t),n},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),i=t.clone();e.negative=0,i.negative=0;for(var r=0;e.isEven()&&i.isEven();r++)e.iushrn(1),i.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;i.isEven();)i.iushrn(1);var n=e.cmp(i);if(n<0){var o=e;e=i,i=o}else if(0===n||0===i.cmpn(1))break;e.isub(i)}return i.iushln(r)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,i=(t-e)/26,n=1<<e;if(this.length<=i)return this._expand(i+1),this.words[i]|=n,this;for(var o=n,s=i;0!==o&&s<this.length;s++){var h=0|this.words[s];o=(h+=o)>>>26,h&=67108863,this.words[s]=h}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,i=t<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this._strip(),this.length>1)e=1;else{i&&(t=-t),r(t<=67108863,"Number is too big");var n=0|this.words[0];e=n===t?0:n<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,i=this.length-1;i>=0;i--){var r=0|this.words[i],n=0|t.words[i];if(r!==n){r<n?e=-1:r>n&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new S(t)},o.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var M={k256:null,p224:null,p192:null,p25519:null};function b(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function _(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function A(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function k(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function P(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},b.prototype.ireduce=function(t){var e,i=t;do{this.split(i,this.tmp),e=(i=(i=this.imulK(i)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:i.ucmp(this.p);return 0===r?(i.words[0]=0,i.length=1):r>0?i.isub(this.p):void 0!==i.strip?i.strip():i._strip(),i},b.prototype.split=function(t,e){t.iushrn(this.n,0,e)},b.prototype.imulK=function(t){return t.imul(this.k)},n(_,b),_.prototype.split=function(t,e){for(var i=Math.min(t.length,9),r=0;r<i;r++)e.words[r]=t.words[r];if(e.length=i,t.length<=9)return t.words[0]=0,void(t.length=1);var n=t.words[9];for(e.words[e.length++]=4194303&n,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(4194303&o)<<4|n>>>22,n=o}n>>>=22,t.words[r-10]=n,0===n&&t.length>10?t.length-=10:t.length-=9},_.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,i=0;i<t.length;i++){var r=0|t.words[i];e+=977*r,t.words[i]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(A,b),n(E,b),n(k,b),k.prototype.imulK=function(t){for(var e=0,i=0;i<t.length;i++){var r=19*(0|t.words[i])+e,n=67108863&r;r>>>=26,t.words[i]=n,e=r}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(M[t])return M[t];var e;if("k256"===t)e=new _;else if("p224"===t)e=new A;else if("p192"===t)e=new E;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new k}return M[t]=e,e},S.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(l(t,t.umod(this.m)._forceRed(this)),t)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var i=t.add(e);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var i=t.iadd(e);return i.cmp(this.m)>=0&&i.isub(this.m),i},S.prototype.sub=function(t,e){this._verify2(t,e);var i=t.sub(e);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var i=t.isub(e);return i.cmpn(0)<0&&i.iadd(this.m),i},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var i=this.m.add(new o(1)).iushrn(2);return this.pow(t,i)}for(var n=this.m.subn(1),s=0;!n.isZero()&&0===n.andln(1);)s++,n.iushrn(1);r(!n.isZero());var h=new o(1).toRed(this),a=h.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(a);)l.redIAdd(a);for(var f=this.pow(l,n),c=this.pow(t,n.addn(1).iushrn(1)),d=this.pow(t,n),m=s;0!==d.cmp(h);){for(var p=d,g=0;0!==p.cmp(h);g++)p=p.redSqr();r(g<m);var y=this.pow(f,new o(1).iushln(m-g-1));c=c.redMul(y),f=y.redSqr(),d=d.redMul(f),m=g}return c},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var i=new Array(16);i[0]=new o(1).toRed(this),i[1]=t;for(var r=2;r<i.length;r++)i[r]=this.mul(i[r-1],t);var n=i[0],s=0,h=0,a=e.bitLength()%26;for(0===a&&(a=26),r=e.length-1;r>=0;r--){for(var u=e.words[r],l=a-1;l>=0;l--){var f=u>>l&1;n!==i[0]&&(n=this.sqr(n)),0!==f||0!==s?(s<<=1,s|=f,(4===++h||0===r&&0===l)&&(n=this.mul(n,i[s]),h=0,s=0)):h=0}a=26}return n},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new P(t)},n(P,S),P.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},P.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},P.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var i=t.imul(e),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=i.isub(r).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},P.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var i=t.mul(e),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=i.isub(r).iushrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):n.cmpn(0)<0&&(s=n.iadd(this.m)),s._forceRed(this)},P.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)}).call(this,i(63)(t))},2929:function(t,e,i){"use strict";var r,n=i(2930)("http-errors"),o=i(2931),s=i(2932),h=i(17),a=i(2934);function u(t){return Number(String(t).charAt(0)+"00")}function l(t,e){var i=Object.getOwnPropertyDescriptor(t,"name");i&&i.configurable&&(i.value=e,Object.defineProperty(t,"name",i))}function f(t){return"Error"!==t.substr(-5)?t+"Error":t}t.exports=function t(){for(var e,i,r=500,o={},h=0;h<arguments.length;h++){var a=arguments[h];if(a instanceof Error)r=(e=a).status||e.statusCode||r;else switch(typeof a){case"string":i=a;break;case"number":r=a,0!==h&&n("non-first-argument status code; replace with createError("+a+", ...)");break;case"object":o=a}}"number"==typeof r&&(r<400||r>=600)&&n("non-error status code; use only 4xx or 5xx status codes");("number"!=typeof r||!s[r]&&(r<400||r>=600))&&(r=500);var l=t[r]||t[u(r)];e||(e=l?new l(i):new Error(i||s[r]),Error.captureStackTrace(e,t));l&&e instanceof l&&e.status===r||(e.expose=r<500,e.status=e.statusCode=r);for(var f in o)"status"!==f&&"statusCode"!==f&&(e[f]=o[f]);return e},t.exports.HttpError=function(){function t(){throw new TypeError("cannot construct abstract class")}return h(t,Error),t}(),t.exports.isHttpError=(r=t.exports.HttpError,function(t){return!(!t||"object"!=typeof t)&&(t instanceof r||t instanceof Error&&"boolean"==typeof t.expose&&"number"==typeof t.statusCode&&t.status===t.statusCode)}),function(t,e,i){e.forEach((function(e){var r,n=a(s[e]);switch(u(e)){case 400:r=function(t,e,i){var r=f(e);function n(t){var e=null!=t?t:s[i],h=new Error(e);return Error.captureStackTrace(h,n),o(h,n.prototype),Object.defineProperty(h,"message",{enumerable:!0,configurable:!0,value:e,writable:!0}),Object.defineProperty(h,"name",{enumerable:!1,configurable:!0,value:r,writable:!0}),h}return h(n,t),l(n,r),n.prototype.status=i,n.prototype.statusCode=i,n.prototype.expose=!0,n}(i,n,e);break;case 500:r=function(t,e,i){var r=f(e);function n(t){var e=null!=t?t:s[i],h=new Error(e);return Error.captureStackTrace(h,n),o(h,n.prototype),Object.defineProperty(h,"message",{enumerable:!0,configurable:!0,value:e,writable:!0}),Object.defineProperty(h,"name",{enumerable:!1,configurable:!0,value:r,writable:!0}),h}return h(n,t),l(n,r),n.prototype.status=i,n.prototype.statusCode=i,n.prototype.expose=!1,n}(i,n,e)}r&&(t[e]=r,t[n]=r)})),t["I'mateapot"]=n.function(t.ImATeapot,'"I\'mateapot"; use "ImATeapot" instead')}(t.exports,s.codes,t.exports.HttpError)},2930:function(t,e,i){"use strict";function r(t,e){if("function"!=typeof t)throw new TypeError("argument fn must be a function");return t}function n(t,e,i){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("argument obj must be object");var r=Object.getOwnPropertyDescriptor(t,e);if(!r)throw new TypeError("must call property on owner object");if(!r.configurable)throw new TypeError("property must be configurable")}t.exports=function(t){if(!t)throw new TypeError("argument namespace is required");function e(t){}return e._file=void 0,e._ignored=!0,e._namespace=t,e._traced=!1,e._warned=Object.create(null),e.function=r,e.property=n,e}},2932:function(t,e,i){"use strict";var r=i(2933);function n(t){if("number"==typeof t){if(!n[t])throw new Error("invalid status code: "+t);return t}if("string"!=typeof t)throw new TypeError("code must be a number or string");var e=parseInt(t,10);if(!isNaN(e)){if(!n[e])throw new Error("invalid status code: "+e);return e}if(!(e=n[t.toLowerCase()]))throw new Error('invalid status message: "'+t+'"');return e}t.exports=n,n.STATUS_CODES=r,n.codes=function(t,e){var i=[];return Object.keys(e).forEach((function(r){var n=e[r],o=Number(r);t[o]=n,t[n]=o,t[n.toLowerCase()]=o,i.push(o)})),i}(n,r),n.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0},n.empty={204:!0,205:!0,304:!0},n.retry={502:!0,503:!0,504:!0}},2933:function(t){t.exports=JSON.parse('{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","306":"(Unused)","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I\'m a teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Unordered Collection","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"}')},2938:function(t,e,i){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.diffEpochValidators=e.findSeatPrice=void 0;const n=r(i(301)),o=r(i(357));e.findSeatPrice=function(t,e,i,r){if(r&&r<49)return function(t,e){const i=t.map(t=>new n.default(t.stake,10)).sort((t,e)=>t.cmp(e)),r=new n.default(e),o=i.reduce((t,e)=>t.add(e));if(o.lt(r))throw new Error("Stakes are below seats");let s=new n.default(1),h=o.add(new n.default(1));for(;!s.eq(h.sub(new n.default(1)));){const t=s.add(h).div(new n.default(2));let e=!1,o=new n.default(0);for(let n=0;n<i.length;++n)if(o=o.add(i[n].div(t)),o.gte(r)){s=t,e=!0;break}e||(h=t)}return s}(t,e);if(!i){o.default("findSeatPrice(validators, maxNumberOfSeats)")("`use `findSeatPrice(validators, maxNumberOfSeats, minimumStakeRatio)` instead"),i=[1,6250]}return function(t,e,i){if(2!=i.length)throw Error("minimumStakeRatio should have 2 elements");const r=t.map(t=>new n.default(t.stake,10)).sort((t,e)=>t.cmp(e)),o=r.reduce((t,e)=>t.add(e));return t.length<e?o.mul(new n.default(i[0])).div(new n.default(i[1])):r[0].add(new n.default(1))}(t,e,i)},e.diffEpochValidators=function(t,e){const i=new Map;t.forEach(t=>i.set(t.account_id,t));const r=new Set(e.map(t=>t.account_id));return{newValidators:e.filter(t=>!i.has(t.account_id)),removedValidators:t.filter(t=>!r.has(t.account_id)),changedValidators:e.filter(t=>i.has(t.account_id)&&i.get(t.account_id).stake!=t.stake).map(t=>({current:i.get(t.account_id),next:t}))}}},2941:function(t,e,i){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectedWalletAccount=e.WalletAccount=e.WalletConnection=void 0;const n=r(i(357)),o=i(549),s=i(548),h=i(1354),a=i(356),u=i(356);class WalletConnection{constructor(t,e){this._near=t;const i=e+"_wallet_auth_key",r=JSON.parse(window.localStorage.getItem(i));this._networkId=t.config.networkId,this._walletBaseUrl=t.config.walletUrl,e=e||t.config.contractName||"default",this._keyStore=t.connection.signer.keyStore,this._authData=r||{allKeys:[]},this._authDataKey=i,this.isSignedIn()||this._completeSignInWithAccessKey()}isSignedIn(){return!!this._authData.accountId}getAccountId(){return this._authData.accountId||""}async requestSignIn(t={},e,i,r){let o;if("string"==typeof t){n.default("requestSignIn(contractId, title)")("`title` ignored; use `requestSignIn({ contractId, methodNames, successUrl, failureUrl })` instead"),o={contractId:t,successUrl:i,failureUrl:r}}else o=t;const s=new URL(window.location.href),a=new URL(this._walletBaseUrl+"/login/");if(a.searchParams.set("success_url",o.successUrl||s.href),a.searchParams.set("failure_url",o.failureUrl||s.href),o.contractId){const t=await this._near.account(o.contractId);await t.state(),a.searchParams.set("contract_id",o.contractId);const e=h.KeyPair.fromRandom("ed25519");a.searchParams.set("public_key",e.getPublicKey().toString()),await this._keyStore.setKey(this._networkId,"pending_key"+e.getPublicKey(),e)}o.methodNames&&o.methodNames.forEach(t=>{a.searchParams.append("methodNames",t)}),window.location.assign(a.toString())}async requestSignTransactions(...t){if(Array.isArray(t[0])){return n.default("WalletConnection.requestSignTransactions(transactions, callbackUrl, meta)")("use `WalletConnection.requestSignTransactions(RequestSignTransactionsOptions)` instead"),this._requestSignTransactions({transactions:t[0],callbackUrl:t[1],meta:t[2]})}return this._requestSignTransactions(t[0])}async _requestSignTransactions({transactions:t,meta:e,callbackUrl:i}){const r=new URL(window.location.href),n=new URL("sign",this._walletBaseUrl);n.searchParams.set("transactions",t.map(t=>u.serialize(s.SCHEMA,t)).map(t=>Buffer.from(t).toString("base64")).join(",")),n.searchParams.set("callbackUrl",i||r.href),e&&n.searchParams.set("meta",e),window.location.assign(n.toString())}async _completeSignInWithAccessKey(){const t=new URL(window.location.href),e=t.searchParams.get("public_key")||"",i=(t.searchParams.get("all_keys")||"").split(","),r=t.searchParams.get("account_id")||"";r&&(this._authData={accountId:r,allKeys:i},window.localStorage.setItem(this._authDataKey,JSON.stringify(this._authData)),e&&await this._moveKeyFromTempToPermanent(r,e)),t.searchParams.delete("public_key"),t.searchParams.delete("all_keys"),t.searchParams.delete("account_id"),t.searchParams.delete("meta"),t.searchParams.delete("transactionHashes"),window.history.replaceState({},document.title,t.toString())}async _moveKeyFromTempToPermanent(t,e){const i=await this._keyStore.getKey(this._networkId,"pending_key"+e);await this._keyStore.setKey(this._networkId,t,i),await this._keyStore.removeKey(this._networkId,"pending_key"+e)}signOut(){this._authData={},window.localStorage.removeItem(this._authDataKey)}account(){return this._connectedAccount||(this._connectedAccount=new ConnectedWalletAccount(this,this._near.connection,this._authData.accountId)),this._connectedAccount}}e.WalletConnection=WalletConnection,e.WalletAccount=WalletConnection;class ConnectedWalletAccount extends o.Account{constructor(t,e,i){super(e,i),this.walletConnection=t}signAndSendTransaction(...t){return"string"==typeof t[0]?this._signAndSendTransaction({receiverId:t[0],actions:t[1]}):this._signAndSendTransaction(t[0])}async _signAndSendTransaction({receiverId:t,actions:e,walletMeta:i,walletCallbackUrl:r=window.location.href}){const n=await this.connection.signer.getPublicKey(this.accountId,this.connection.networkId);let o=await this.accessKeyForTransaction(t,e,n);if(!o)throw new Error("Cannot find matching key for transaction sent to "+t);if(n&&n.toString()===o.public_key)try{return await super.signAndSendTransaction({receiverId:t,actions:e})}catch(i){if("NotEnoughAllowance"!==i.type)throw i;o=await this.accessKeyForTransaction(t,e)}const u=await this.connection.provider.block({finality:"final"}),l=a.baseDecode(u.header.hash),f=h.PublicKey.from(o.public_key),c=o.access_key.nonce+1,d=s.createTransaction(this.accountId,f,t,c,e,l);return await this.walletConnection.requestSignTransactions({transactions:[d],meta:i,callbackUrl:r}),new Promise((t,e)=>{setTimeout(()=>{e(new Error("Failed to redirect to sign transaction"))},1e3)})}async accessKeyMatchesTransaction(t,e,i){const{access_key:{permission:r}}=t;if("FullAccess"===r)return!0;if(r.FunctionCall){const{receiver_id:t,method_names:n}=r.FunctionCall;if(t===this.accountId&&n.includes("add_request_and_confirm"))return!0;if(t===e){if(1!==i.length)return!1;const[{functionCall:t}]=i;return t&&(!t.deposit||"0"===t.deposit.toString())&&(0===n.length||n.includes(t.methodName))}}return!1}async accessKeyForTransaction(t,e,i){const r=await this.getAccessKeys();if(i){const n=r.find(t=>t.public_key.toString()===i.toString());if(n&&await this.accessKeyMatchesTransaction(n,t,e))return n}const n=this.walletConnection._authData.allKeys;for(const i of r)if(-1!==n.indexOf(i.public_key)&&await this.accessKeyMatchesTransaction(i,t,e))return i;return null}}e.ConnectedWalletAccount=ConnectedWalletAccount},301:function(t,e,i){(function(t){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}function o(t,e,i){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(i=e,e=10),this._init(t||0,e||10,i||"be"))}var s;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:i(6).Buffer}catch(t){}function h(t,e){var i=t.charCodeAt(e);return i>=48&&i<=57?i-48:i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:void r(!1,"Invalid character in "+t)}function a(t,e,i){var r=h(t,i);return i-1>=e&&(r|=h(t,i-1)<<4),r}function u(t,e,i,n){for(var o=0,s=0,h=Math.min(t.length,i),a=e;a<h;a++){var u=t.charCodeAt(a)-48;o*=n,s=u>=49?u-49+10:u>=17?u-17+10:u,r(u>=0&&s<n,"Invalid character"),o+=s}return o}function l(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,i){if("number"==typeof t)return this._initNumber(t,e,i);if("object"==typeof t)return this._initArray(t,e,i);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var n=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<t.length&&(16===e?this._parseHex(t,n,i):(this._parseBase(t,e,n),"le"===i&&this._initArray(this.toArray(),e,i)))},o.prototype._initNumber=function(t,e,i){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),e,i)},o.prototype._initArray=function(t,e,i){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var o,s,h=0;if("be"===i)for(n=t.length-1,o=0;n>=0;n-=3)s=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[o]|=s<<h&67108863,this.words[o+1]=s>>>26-h&67108863,(h+=24)>=26&&(h-=26,o++);else if("le"===i)for(n=0,o=0;n<t.length;n+=3)s=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[o]|=s<<h&67108863,this.words[o+1]=s>>>26-h&67108863,(h+=24)>=26&&(h-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,i){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,o=0,s=0;if("be"===i)for(r=t.length-1;r>=e;r-=2)n=a(t,e,r)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;else for(r=(t.length-e)%2==0?e+1:e;r<t.length;r+=2)n=a(t,e,r)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,i){this.words=[0],this.length=1;for(var r=0,n=1;n<=67108863;n*=e)r++;r--,n=n/e|0;for(var o=t.length-i,s=o%r,h=Math.min(o,o-s)+i,a=0,l=i;l<h;l+=r)a=u(t,l,l+r,e),this.imuln(n),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(0!==s){var f=1;for(a=u(t,l,t.length,e),l=0;l<s;l++)f*=e;this.imuln(f),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){l(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch(t){o.prototype.inspect=f}else o.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){var i;if(e=0|e||1,16===(t=t||10)||"hex"===t){i="";for(var n=0,o=0,s=0;s<this.length;s++){var h=this.words[s],a=(16777215&(h<<n|o)).toString(16);i=0!==(o=h>>>24-n&16777215)||s!==this.length-1?c[6-a.length]+a+i:a+i,(n+=2)>=26&&(n-=26,s--)}for(0!==o&&(i=o.toString(16)+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(t===(0|t)&&t>=2&&t<=36){var u=d[t],l=m[t];i="";var f=this.clone();for(f.negative=0;!f.isZero();){var p=f.modrn(l).toString(t);i=(f=f.idivn(l)).isZero()?p+i:c[u-p.length]+p+i}for(this.isZero()&&(i="0"+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function p(t,e,i){i.negative=e.negative^t.negative;var r=t.length+e.length|0;i.length=r,r=r-1|0;var n=0|t.words[0],o=0|e.words[0],s=n*o,h=67108863&s,a=s/67108864|0;i.words[0]=h;for(var u=1;u<r;u++){for(var l=a>>>26,f=67108863&a,c=Math.min(u,e.length-1),d=Math.max(0,u-t.length+1);d<=c;d++){var m=u-d|0;l+=(s=(n=0|t.words[m])*(o=0|e.words[d])+f)/67108864|0,f=67108863&s}i.words[u]=0|f,a=0|l}return 0!==a?i.words[u]=0|a:i.length--,i._strip()}o.prototype.toArrayLike=function(t,e,i){this._strip();var n=this.byteLength(),o=i||Math.max(1,n);r(n<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0");var s=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](s,n),s},o.prototype._toArrayLikeLE=function(t,e){for(var i=0,r=0,n=0,o=0;n<this.length;n++){var s=this.words[n]<<o|r;t[i++]=255&s,i<t.length&&(t[i++]=s>>8&255),i<t.length&&(t[i++]=s>>16&255),6===o?(i<t.length&&(t[i++]=s>>24&255),r=0,o=0):(r=s>>>24,o+=2)}if(i<t.length)for(t[i++]=r;i<t.length;)t[i++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var i=t.length-1,r=0,n=0,o=0;n<this.length;n++){var s=this.words[n]<<o|r;t[i--]=255&s,i>=0&&(t[i--]=s>>8&255),i>=0&&(t[i--]=s>>16&255),6===o?(i>=0&&(t[i--]=s>>24&255),r=0,o=0):(r=s>>>24,o+=2)}if(i>=0)for(t[i--]=r;i>=0;)t[i--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,i=0;return e>=4096&&(i+=13,e>>>=13),e>=64&&(i+=7,e>>>=7),e>=8&&(i+=4,e>>>=4),e>=2&&(i+=2,e>>>=2),i+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,i=0;return 0==(8191&e)&&(i+=13,e>>>=13),0==(127&e)&&(i+=7,e>>>=7),0==(15&e)&&(i+=4,e>>>=4),0==(3&e)&&(i+=2,e>>>=2),0==(1&e)&&i++,i},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var i=this._zeroBits(this.words[e]);if(t+=i,26!==i)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var i=0;i<e.length;i++)this.words[i]=this.words[i]&t.words[i];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,i;this.length>t.length?(e=this,i=t):(e=t,i=this);for(var r=0;r<i.length;r++)this.words[r]=e.words[r]^i.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),i=t%26;this._expand(e),i>0&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return i>0&&(this.words[n]=~this.words[n]&67108863>>26-i),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var i=t/26|0,n=t%26;return this._expand(i+1),this.words[i]=e?this.words[i]|1<<n:this.words[i]&~(1<<n),this._strip()},o.prototype.iadd=function(t){var e,i,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(i=this,r=t):(i=t,r=this);for(var n=0,o=0;o<r.length;o++)e=(0|i.words[o])+(0|r.words[o])+n,this.words[o]=67108863&e,n=e>>>26;for(;0!==n&&o<i.length;o++)e=(0|i.words[o])+n,this.words[o]=67108863&e,n=e>>>26;if(this.length=i.length,0!==n)this.words[this.length]=n,this.length++;else if(i!==this)for(;o<i.length;o++)this.words[o]=i.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var i,r,n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(i=this,r=t):(i=t,r=this);for(var o=0,s=0;s<r.length;s++)o=(e=(0|i.words[s])-(0|r.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<i.length;s++)o=(e=(0|i.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<i.length&&i!==this)for(;s<i.length;s++)this.words[s]=i.words[s];return this.length=Math.max(this.length,s),i!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,i){var r,n,o,s=t.words,h=e.words,a=i.words,u=0,l=0|s[0],f=8191&l,c=l>>>13,d=0|s[1],m=8191&d,p=d>>>13,g=0|s[2],y=8191&g,v=g>>>13,w=0|s[3],M=8191&w,b=w>>>13,_=0|s[4],A=8191&_,E=_>>>13,k=0|s[5],S=8191&k,P=k>>>13,T=0|s[6],x=8191&T,N=T>>>13,R=0|s[7],B=8191&R,K=R>>>13,I=0|s[8],O=8191&I,C=I>>>13,U=0|s[9],j=8191&U,D=U>>>13,q=0|h[0],L=8191&q,F=q>>>13,z=0|h[1],Z=8191&z,$=z>>>13,W=0|h[2],H=8191&W,J=W>>>13,X=0|h[3],V=8191&X,G=X>>>13,Y=0|h[4],Q=8191&Y,tt=Y>>>13,et=0|h[5],it=8191&et,rt=et>>>13,nt=0|h[6],ot=8191&nt,st=nt>>>13,ht=0|h[7],at=8191&ht,ut=ht>>>13,lt=0|h[8],ft=8191&lt,ct=lt>>>13,dt=0|h[9],mt=8191&dt,pt=dt>>>13;i.negative=t.negative^e.negative,i.length=19;var gt=(u+(r=Math.imul(f,L))|0)+((8191&(n=(n=Math.imul(f,F))+Math.imul(c,L)|0))<<13)|0;u=((o=Math.imul(c,F))+(n>>>13)|0)+(gt>>>26)|0,gt&=67108863,r=Math.imul(m,L),n=(n=Math.imul(m,F))+Math.imul(p,L)|0,o=Math.imul(p,F);var yt=(u+(r=r+Math.imul(f,Z)|0)|0)+((8191&(n=(n=n+Math.imul(f,$)|0)+Math.imul(c,Z)|0))<<13)|0;u=((o=o+Math.imul(c,$)|0)+(n>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(y,L),n=(n=Math.imul(y,F))+Math.imul(v,L)|0,o=Math.imul(v,F),r=r+Math.imul(m,Z)|0,n=(n=n+Math.imul(m,$)|0)+Math.imul(p,Z)|0,o=o+Math.imul(p,$)|0;var vt=(u+(r=r+Math.imul(f,H)|0)|0)+((8191&(n=(n=n+Math.imul(f,J)|0)+Math.imul(c,H)|0))<<13)|0;u=((o=o+Math.imul(c,J)|0)+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(M,L),n=(n=Math.imul(M,F))+Math.imul(b,L)|0,o=Math.imul(b,F),r=r+Math.imul(y,Z)|0,n=(n=n+Math.imul(y,$)|0)+Math.imul(v,Z)|0,o=o+Math.imul(v,$)|0,r=r+Math.imul(m,H)|0,n=(n=n+Math.imul(m,J)|0)+Math.imul(p,H)|0,o=o+Math.imul(p,J)|0;var wt=(u+(r=r+Math.imul(f,V)|0)|0)+((8191&(n=(n=n+Math.imul(f,G)|0)+Math.imul(c,V)|0))<<13)|0;u=((o=o+Math.imul(c,G)|0)+(n>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(A,L),n=(n=Math.imul(A,F))+Math.imul(E,L)|0,o=Math.imul(E,F),r=r+Math.imul(M,Z)|0,n=(n=n+Math.imul(M,$)|0)+Math.imul(b,Z)|0,o=o+Math.imul(b,$)|0,r=r+Math.imul(y,H)|0,n=(n=n+Math.imul(y,J)|0)+Math.imul(v,H)|0,o=o+Math.imul(v,J)|0,r=r+Math.imul(m,V)|0,n=(n=n+Math.imul(m,G)|0)+Math.imul(p,V)|0,o=o+Math.imul(p,G)|0;var Mt=(u+(r=r+Math.imul(f,Q)|0)|0)+((8191&(n=(n=n+Math.imul(f,tt)|0)+Math.imul(c,Q)|0))<<13)|0;u=((o=o+Math.imul(c,tt)|0)+(n>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(S,L),n=(n=Math.imul(S,F))+Math.imul(P,L)|0,o=Math.imul(P,F),r=r+Math.imul(A,Z)|0,n=(n=n+Math.imul(A,$)|0)+Math.imul(E,Z)|0,o=o+Math.imul(E,$)|0,r=r+Math.imul(M,H)|0,n=(n=n+Math.imul(M,J)|0)+Math.imul(b,H)|0,o=o+Math.imul(b,J)|0,r=r+Math.imul(y,V)|0,n=(n=n+Math.imul(y,G)|0)+Math.imul(v,V)|0,o=o+Math.imul(v,G)|0,r=r+Math.imul(m,Q)|0,n=(n=n+Math.imul(m,tt)|0)+Math.imul(p,Q)|0,o=o+Math.imul(p,tt)|0;var bt=(u+(r=r+Math.imul(f,it)|0)|0)+((8191&(n=(n=n+Math.imul(f,rt)|0)+Math.imul(c,it)|0))<<13)|0;u=((o=o+Math.imul(c,rt)|0)+(n>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(x,L),n=(n=Math.imul(x,F))+Math.imul(N,L)|0,o=Math.imul(N,F),r=r+Math.imul(S,Z)|0,n=(n=n+Math.imul(S,$)|0)+Math.imul(P,Z)|0,o=o+Math.imul(P,$)|0,r=r+Math.imul(A,H)|0,n=(n=n+Math.imul(A,J)|0)+Math.imul(E,H)|0,o=o+Math.imul(E,J)|0,r=r+Math.imul(M,V)|0,n=(n=n+Math.imul(M,G)|0)+Math.imul(b,V)|0,o=o+Math.imul(b,G)|0,r=r+Math.imul(y,Q)|0,n=(n=n+Math.imul(y,tt)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,tt)|0,r=r+Math.imul(m,it)|0,n=(n=n+Math.imul(m,rt)|0)+Math.imul(p,it)|0,o=o+Math.imul(p,rt)|0;var _t=(u+(r=r+Math.imul(f,ot)|0)|0)+((8191&(n=(n=n+Math.imul(f,st)|0)+Math.imul(c,ot)|0))<<13)|0;u=((o=o+Math.imul(c,st)|0)+(n>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(B,L),n=(n=Math.imul(B,F))+Math.imul(K,L)|0,o=Math.imul(K,F),r=r+Math.imul(x,Z)|0,n=(n=n+Math.imul(x,$)|0)+Math.imul(N,Z)|0,o=o+Math.imul(N,$)|0,r=r+Math.imul(S,H)|0,n=(n=n+Math.imul(S,J)|0)+Math.imul(P,H)|0,o=o+Math.imul(P,J)|0,r=r+Math.imul(A,V)|0,n=(n=n+Math.imul(A,G)|0)+Math.imul(E,V)|0,o=o+Math.imul(E,G)|0,r=r+Math.imul(M,Q)|0,n=(n=n+Math.imul(M,tt)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,tt)|0,r=r+Math.imul(y,it)|0,n=(n=n+Math.imul(y,rt)|0)+Math.imul(v,it)|0,o=o+Math.imul(v,rt)|0,r=r+Math.imul(m,ot)|0,n=(n=n+Math.imul(m,st)|0)+Math.imul(p,ot)|0,o=o+Math.imul(p,st)|0;var At=(u+(r=r+Math.imul(f,at)|0)|0)+((8191&(n=(n=n+Math.imul(f,ut)|0)+Math.imul(c,at)|0))<<13)|0;u=((o=o+Math.imul(c,ut)|0)+(n>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(O,L),n=(n=Math.imul(O,F))+Math.imul(C,L)|0,o=Math.imul(C,F),r=r+Math.imul(B,Z)|0,n=(n=n+Math.imul(B,$)|0)+Math.imul(K,Z)|0,o=o+Math.imul(K,$)|0,r=r+Math.imul(x,H)|0,n=(n=n+Math.imul(x,J)|0)+Math.imul(N,H)|0,o=o+Math.imul(N,J)|0,r=r+Math.imul(S,V)|0,n=(n=n+Math.imul(S,G)|0)+Math.imul(P,V)|0,o=o+Math.imul(P,G)|0,r=r+Math.imul(A,Q)|0,n=(n=n+Math.imul(A,tt)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,tt)|0,r=r+Math.imul(M,it)|0,n=(n=n+Math.imul(M,rt)|0)+Math.imul(b,it)|0,o=o+Math.imul(b,rt)|0,r=r+Math.imul(y,ot)|0,n=(n=n+Math.imul(y,st)|0)+Math.imul(v,ot)|0,o=o+Math.imul(v,st)|0,r=r+Math.imul(m,at)|0,n=(n=n+Math.imul(m,ut)|0)+Math.imul(p,at)|0,o=o+Math.imul(p,ut)|0;var Et=(u+(r=r+Math.imul(f,ft)|0)|0)+((8191&(n=(n=n+Math.imul(f,ct)|0)+Math.imul(c,ft)|0))<<13)|0;u=((o=o+Math.imul(c,ct)|0)+(n>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(j,L),n=(n=Math.imul(j,F))+Math.imul(D,L)|0,o=Math.imul(D,F),r=r+Math.imul(O,Z)|0,n=(n=n+Math.imul(O,$)|0)+Math.imul(C,Z)|0,o=o+Math.imul(C,$)|0,r=r+Math.imul(B,H)|0,n=(n=n+Math.imul(B,J)|0)+Math.imul(K,H)|0,o=o+Math.imul(K,J)|0,r=r+Math.imul(x,V)|0,n=(n=n+Math.imul(x,G)|0)+Math.imul(N,V)|0,o=o+Math.imul(N,G)|0,r=r+Math.imul(S,Q)|0,n=(n=n+Math.imul(S,tt)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,tt)|0,r=r+Math.imul(A,it)|0,n=(n=n+Math.imul(A,rt)|0)+Math.imul(E,it)|0,o=o+Math.imul(E,rt)|0,r=r+Math.imul(M,ot)|0,n=(n=n+Math.imul(M,st)|0)+Math.imul(b,ot)|0,o=o+Math.imul(b,st)|0,r=r+Math.imul(y,at)|0,n=(n=n+Math.imul(y,ut)|0)+Math.imul(v,at)|0,o=o+Math.imul(v,ut)|0,r=r+Math.imul(m,ft)|0,n=(n=n+Math.imul(m,ct)|0)+Math.imul(p,ft)|0,o=o+Math.imul(p,ct)|0;var kt=(u+(r=r+Math.imul(f,mt)|0)|0)+((8191&(n=(n=n+Math.imul(f,pt)|0)+Math.imul(c,mt)|0))<<13)|0;u=((o=o+Math.imul(c,pt)|0)+(n>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(j,Z),n=(n=Math.imul(j,$))+Math.imul(D,Z)|0,o=Math.imul(D,$),r=r+Math.imul(O,H)|0,n=(n=n+Math.imul(O,J)|0)+Math.imul(C,H)|0,o=o+Math.imul(C,J)|0,r=r+Math.imul(B,V)|0,n=(n=n+Math.imul(B,G)|0)+Math.imul(K,V)|0,o=o+Math.imul(K,G)|0,r=r+Math.imul(x,Q)|0,n=(n=n+Math.imul(x,tt)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,tt)|0,r=r+Math.imul(S,it)|0,n=(n=n+Math.imul(S,rt)|0)+Math.imul(P,it)|0,o=o+Math.imul(P,rt)|0,r=r+Math.imul(A,ot)|0,n=(n=n+Math.imul(A,st)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,st)|0,r=r+Math.imul(M,at)|0,n=(n=n+Math.imul(M,ut)|0)+Math.imul(b,at)|0,o=o+Math.imul(b,ut)|0,r=r+Math.imul(y,ft)|0,n=(n=n+Math.imul(y,ct)|0)+Math.imul(v,ft)|0,o=o+Math.imul(v,ct)|0;var St=(u+(r=r+Math.imul(m,mt)|0)|0)+((8191&(n=(n=n+Math.imul(m,pt)|0)+Math.imul(p,mt)|0))<<13)|0;u=((o=o+Math.imul(p,pt)|0)+(n>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(j,H),n=(n=Math.imul(j,J))+Math.imul(D,H)|0,o=Math.imul(D,J),r=r+Math.imul(O,V)|0,n=(n=n+Math.imul(O,G)|0)+Math.imul(C,V)|0,o=o+Math.imul(C,G)|0,r=r+Math.imul(B,Q)|0,n=(n=n+Math.imul(B,tt)|0)+Math.imul(K,Q)|0,o=o+Math.imul(K,tt)|0,r=r+Math.imul(x,it)|0,n=(n=n+Math.imul(x,rt)|0)+Math.imul(N,it)|0,o=o+Math.imul(N,rt)|0,r=r+Math.imul(S,ot)|0,n=(n=n+Math.imul(S,st)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,st)|0,r=r+Math.imul(A,at)|0,n=(n=n+Math.imul(A,ut)|0)+Math.imul(E,at)|0,o=o+Math.imul(E,ut)|0,r=r+Math.imul(M,ft)|0,n=(n=n+Math.imul(M,ct)|0)+Math.imul(b,ft)|0,o=o+Math.imul(b,ct)|0;var Pt=(u+(r=r+Math.imul(y,mt)|0)|0)+((8191&(n=(n=n+Math.imul(y,pt)|0)+Math.imul(v,mt)|0))<<13)|0;u=((o=o+Math.imul(v,pt)|0)+(n>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,r=Math.imul(j,V),n=(n=Math.imul(j,G))+Math.imul(D,V)|0,o=Math.imul(D,G),r=r+Math.imul(O,Q)|0,n=(n=n+Math.imul(O,tt)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,tt)|0,r=r+Math.imul(B,it)|0,n=(n=n+Math.imul(B,rt)|0)+Math.imul(K,it)|0,o=o+Math.imul(K,rt)|0,r=r+Math.imul(x,ot)|0,n=(n=n+Math.imul(x,st)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,st)|0,r=r+Math.imul(S,at)|0,n=(n=n+Math.imul(S,ut)|0)+Math.imul(P,at)|0,o=o+Math.imul(P,ut)|0,r=r+Math.imul(A,ft)|0,n=(n=n+Math.imul(A,ct)|0)+Math.imul(E,ft)|0,o=o+Math.imul(E,ct)|0;var Tt=(u+(r=r+Math.imul(M,mt)|0)|0)+((8191&(n=(n=n+Math.imul(M,pt)|0)+Math.imul(b,mt)|0))<<13)|0;u=((o=o+Math.imul(b,pt)|0)+(n>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,r=Math.imul(j,Q),n=(n=Math.imul(j,tt))+Math.imul(D,Q)|0,o=Math.imul(D,tt),r=r+Math.imul(O,it)|0,n=(n=n+Math.imul(O,rt)|0)+Math.imul(C,it)|0,o=o+Math.imul(C,rt)|0,r=r+Math.imul(B,ot)|0,n=(n=n+Math.imul(B,st)|0)+Math.imul(K,ot)|0,o=o+Math.imul(K,st)|0,r=r+Math.imul(x,at)|0,n=(n=n+Math.imul(x,ut)|0)+Math.imul(N,at)|0,o=o+Math.imul(N,ut)|0,r=r+Math.imul(S,ft)|0,n=(n=n+Math.imul(S,ct)|0)+Math.imul(P,ft)|0,o=o+Math.imul(P,ct)|0;var xt=(u+(r=r+Math.imul(A,mt)|0)|0)+((8191&(n=(n=n+Math.imul(A,pt)|0)+Math.imul(E,mt)|0))<<13)|0;u=((o=o+Math.imul(E,pt)|0)+(n>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(j,it),n=(n=Math.imul(j,rt))+Math.imul(D,it)|0,o=Math.imul(D,rt),r=r+Math.imul(O,ot)|0,n=(n=n+Math.imul(O,st)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,st)|0,r=r+Math.imul(B,at)|0,n=(n=n+Math.imul(B,ut)|0)+Math.imul(K,at)|0,o=o+Math.imul(K,ut)|0,r=r+Math.imul(x,ft)|0,n=(n=n+Math.imul(x,ct)|0)+Math.imul(N,ft)|0,o=o+Math.imul(N,ct)|0;var Nt=(u+(r=r+Math.imul(S,mt)|0)|0)+((8191&(n=(n=n+Math.imul(S,pt)|0)+Math.imul(P,mt)|0))<<13)|0;u=((o=o+Math.imul(P,pt)|0)+(n>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,r=Math.imul(j,ot),n=(n=Math.imul(j,st))+Math.imul(D,ot)|0,o=Math.imul(D,st),r=r+Math.imul(O,at)|0,n=(n=n+Math.imul(O,ut)|0)+Math.imul(C,at)|0,o=o+Math.imul(C,ut)|0,r=r+Math.imul(B,ft)|0,n=(n=n+Math.imul(B,ct)|0)+Math.imul(K,ft)|0,o=o+Math.imul(K,ct)|0;var Rt=(u+(r=r+Math.imul(x,mt)|0)|0)+((8191&(n=(n=n+Math.imul(x,pt)|0)+Math.imul(N,mt)|0))<<13)|0;u=((o=o+Math.imul(N,pt)|0)+(n>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,r=Math.imul(j,at),n=(n=Math.imul(j,ut))+Math.imul(D,at)|0,o=Math.imul(D,ut),r=r+Math.imul(O,ft)|0,n=(n=n+Math.imul(O,ct)|0)+Math.imul(C,ft)|0,o=o+Math.imul(C,ct)|0;var Bt=(u+(r=r+Math.imul(B,mt)|0)|0)+((8191&(n=(n=n+Math.imul(B,pt)|0)+Math.imul(K,mt)|0))<<13)|0;u=((o=o+Math.imul(K,pt)|0)+(n>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,r=Math.imul(j,ft),n=(n=Math.imul(j,ct))+Math.imul(D,ft)|0,o=Math.imul(D,ct);var Kt=(u+(r=r+Math.imul(O,mt)|0)|0)+((8191&(n=(n=n+Math.imul(O,pt)|0)+Math.imul(C,mt)|0))<<13)|0;u=((o=o+Math.imul(C,pt)|0)+(n>>>13)|0)+(Kt>>>26)|0,Kt&=67108863;var It=(u+(r=Math.imul(j,mt))|0)+((8191&(n=(n=Math.imul(j,pt))+Math.imul(D,mt)|0))<<13)|0;return u=((o=Math.imul(D,pt))+(n>>>13)|0)+(It>>>26)|0,It&=67108863,a[0]=gt,a[1]=yt,a[2]=vt,a[3]=wt,a[4]=Mt,a[5]=bt,a[6]=_t,a[7]=At,a[8]=Et,a[9]=kt,a[10]=St,a[11]=Pt,a[12]=Tt,a[13]=xt,a[14]=Nt,a[15]=Rt,a[16]=Bt,a[17]=Kt,a[18]=It,0!==u&&(a[19]=u,i.length++),i};function y(t,e,i){i.negative=e.negative^t.negative,i.length=t.length+e.length;for(var r=0,n=0,o=0;o<i.length-1;o++){var s=n;n=0;for(var h=67108863&r,a=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=a;u++){var l=o-u,f=(0|t.words[l])*(0|e.words[u]),c=67108863&f;h=67108863&(c=c+h|0),n+=(s=(s=s+(f/67108864|0)|0)+(c>>>26)|0)>>>26,s&=67108863}i.words[o]=h,r=s,s=n}return 0!==r?i.words[o]=r:i.length--,i._strip()}function v(t,e,i){return y(t,e,i)}function w(t,e){this.x=t,this.y=e}Math.imul||(g=p),o.prototype.mulTo=function(t,e){var i=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):i<63?p(this,t,e):i<1024?y(this,t,e):v(this,t,e)},w.prototype.makeRBT=function(t){for(var e=new Array(t),i=o.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,i,t);return e},w.prototype.revBin=function(t,e,i){if(0===t||t===i-1)return t;for(var r=0,n=0;n<e;n++)r|=(1&t)<<e-n-1,t>>=1;return r},w.prototype.permute=function(t,e,i,r,n,o){for(var s=0;s<o;s++)r[s]=e[t[s]],n[s]=i[t[s]]},w.prototype.transform=function(t,e,i,r,n,o){this.permute(o,t,e,i,r,n);for(var s=1;s<n;s<<=1)for(var h=s<<1,a=Math.cos(2*Math.PI/h),u=Math.sin(2*Math.PI/h),l=0;l<n;l+=h)for(var f=a,c=u,d=0;d<s;d++){var m=i[l+d],p=r[l+d],g=i[l+d+s],y=r[l+d+s],v=f*g-c*y;y=f*y+c*g,g=v,i[l+d]=m+g,r[l+d]=p+y,i[l+d+s]=m-g,r[l+d+s]=p-y,d!==h&&(v=a*f-u*c,c=a*c+u*f,f=v)}},w.prototype.guessLen13b=function(t,e){var i=1|Math.max(e,t),r=1&i,n=0;for(i=i/2|0;i;i>>>=1)n++;return 1<<n+1+r},w.prototype.conjugate=function(t,e,i){if(!(i<=1))for(var r=0;r<i/2;r++){var n=t[r];t[r]=t[i-r-1],t[i-r-1]=n,n=e[r],e[r]=-e[i-r-1],e[i-r-1]=-n}},w.prototype.normalize13b=function(t,e){for(var i=0,r=0;r<e/2;r++){var n=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+i;t[r]=67108863&n,i=n<67108864?0:n/67108864|0}return t},w.prototype.convert13b=function(t,e,i,n){for(var o=0,s=0;s<e;s++)o+=0|t[s],i[2*s]=8191&o,o>>>=13,i[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<n;++s)i[s]=0;r(0===o),r(0==(-8192&o))},w.prototype.stub=function(t){for(var e=new Array(t),i=0;i<t;i++)e[i]=0;return e},w.prototype.mulp=function(t,e,i){var r=2*this.guessLen13b(t.length,e.length),n=this.makeRBT(r),o=this.stub(r),s=new Array(r),h=new Array(r),a=new Array(r),u=new Array(r),l=new Array(r),f=new Array(r),c=i.words;c.length=r,this.convert13b(t.words,t.length,s,r),this.convert13b(e.words,e.length,u,r),this.transform(s,o,h,a,r,n),this.transform(u,o,l,f,r,n);for(var d=0;d<r;d++){var m=h[d]*l[d]-a[d]*f[d];a[d]=h[d]*f[d]+a[d]*l[d],h[d]=m}return this.conjugate(h,a,r),this.transform(h,a,c,o,r,n),this.conjugate(c,o,r),this.normalize13b(c,r),i.negative=t.negative^e.negative,i.length=t.length+e.length,i._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),v(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),r("number"==typeof t),r(t<67108864);for(var i=0,n=0;n<this.length;n++){var o=(0|this.words[n])*t,s=(67108863&o)+(67108863&i);i>>=26,i+=o/67108864|0,i+=s>>>26,this.words[n]=67108863&s}return 0!==i&&(this.words[n]=i,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),i=0;i<e.length;i++){var r=i/26|0,n=i%26;e[i]=t.words[r]>>>n&1}return e}(t);if(0===e.length)return new o(1);for(var i=this,r=0;r<e.length&&0===e[r];r++,i=i.sqr());if(++r<e.length)for(var n=i.sqr();r<e.length;r++,n=n.sqr())0!==e[r]&&(i=i.mul(n));return i},o.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,i=t%26,n=(t-i)/26,o=67108863>>>26-i<<26-i;if(0!==i){var s=0;for(e=0;e<this.length;e++){var h=this.words[e]&o,a=(0|this.words[e])-h<<i;this.words[e]=a|s,s=h>>>26-i}s&&(this.words[e]=s,this.length++)}if(0!==n){for(e=this.length-1;e>=0;e--)this.words[e+n]=this.words[e];for(e=0;e<n;e++)this.words[e]=0;this.length+=n}return this._strip()},o.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,i){var n;r("number"==typeof t&&t>=0),n=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),h=67108863^67108863>>>o<<o,a=i;if(n-=s,n=Math.max(0,n),a){for(var u=0;u<s;u++)a.words[u]=this.words[u];a.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=n);u--){var f=0|this.words[u];this.words[u]=l<<26-o|f>>>o,l=f&h}return a&&0!==l&&(a.words[a.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,i){return r(0===this.negative),this.iushrn(t,e,i)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26,n=1<<e;return!(this.length<=i)&&!!(this.words[i]&n)},o.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==e&&i++,this.length=Math.min(i,this.length),0!==e){var n=67108863^67108863>>>e<<e;this.words[this.length-1]&=n}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,i){var n,o,s=t.length+i;this._expand(s);var h=0;for(n=0;n<t.length;n++){o=(0|this.words[n+i])+h;var a=(0|t.words[n])*e;h=((o-=67108863&a)>>26)-(a/67108864|0),this.words[n+i]=67108863&o}for(;n<this.length-i;n++)h=(o=(0|this.words[n+i])+h)>>26,this.words[n+i]=67108863&o;if(0===h)return this._strip();for(r(-1===h),h=0,n=0;n<this.length;n++)h=(o=-(0|this.words[n])+h)>>26,this.words[n]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var i=(this.length,t.length),r=this.clone(),n=t,s=0|n.words[n.length-1];0!==(i=26-this._countBits(s))&&(n=n.ushln(i),r.iushln(i),s=0|n.words[n.length-1]);var h,a=r.length-n.length;if("mod"!==e){(h=new o(null)).length=a+1,h.words=new Array(h.length);for(var u=0;u<h.length;u++)h.words[u]=0}var l=r.clone()._ishlnsubmul(n,1,a);0===l.negative&&(r=l,h&&(h.words[a]=1));for(var f=a-1;f>=0;f--){var c=67108864*(0|r.words[n.length+f])+(0|r.words[n.length+f-1]);for(c=Math.min(c/s|0,67108863),r._ishlnsubmul(n,c,f);0!==r.negative;)c--,r.negative=0,r._ishlnsubmul(n,1,f),r.isZero()||(r.negative^=1);h&&(h.words[f]=c)}return h&&h._strip(),r._strip(),"div"!==e&&0!==i&&r.iushrn(i),{div:h||null,mod:r}},o.prototype.divmod=function(t,e,i){return r(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(h=this.neg().divmod(t,e),"mod"!==e&&(n=h.div.neg()),"div"!==e&&(s=h.mod.neg(),i&&0!==s.negative&&s.iadd(t)),{div:n,mod:s}):0===this.negative&&0!==t.negative?(h=this.divmod(t.neg(),e),"mod"!==e&&(n=h.div.neg()),{div:n,mod:h.mod}):0!=(this.negative&t.negative)?(h=this.neg().divmod(t.neg(),e),"div"!==e&&(s=h.mod.neg(),i&&0!==s.negative&&s.isub(t)),{div:h.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var n,s,h},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var i=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),n=t.andln(1),o=i.cmp(r);return o<0||1===n&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var i=(1<<26)%t,n=0,o=this.length-1;o>=0;o--)n=(i*n+(0|this.words[o]))%t;return e?-n:n},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var i=0,n=this.length-1;n>=0;n--){var o=(0|this.words[n])+67108864*i;this.words[n]=o/t|0,i=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var n=new o(1),s=new o(0),h=new o(0),a=new o(1),u=0;e.isEven()&&i.isEven();)e.iushrn(1),i.iushrn(1),++u;for(var l=i.clone(),f=e.clone();!e.isZero();){for(var c=0,d=1;0==(e.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(e.iushrn(c);c-- >0;)(n.isOdd()||s.isOdd())&&(n.iadd(l),s.isub(f)),n.iushrn(1),s.iushrn(1);for(var m=0,p=1;0==(i.words[0]&p)&&m<26;++m,p<<=1);if(m>0)for(i.iushrn(m);m-- >0;)(h.isOdd()||a.isOdd())&&(h.iadd(l),a.isub(f)),h.iushrn(1),a.iushrn(1);e.cmp(i)>=0?(e.isub(i),n.isub(h),s.isub(a)):(i.isub(e),h.isub(n),a.isub(s))}return{a:h,b:a,gcd:i.iushln(u)}},o.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var n,s=new o(1),h=new o(0),a=i.clone();e.cmpn(1)>0&&i.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(a),s.iushrn(1);for(var f=0,c=1;0==(i.words[0]&c)&&f<26;++f,c<<=1);if(f>0)for(i.iushrn(f);f-- >0;)h.isOdd()&&h.iadd(a),h.iushrn(1);e.cmp(i)>=0?(e.isub(i),s.isub(h)):(i.isub(e),h.isub(s))}return(n=0===e.cmpn(1)?s:h).cmpn(0)<0&&n.iadd(t),n},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),i=t.clone();e.negative=0,i.negative=0;for(var r=0;e.isEven()&&i.isEven();r++)e.iushrn(1),i.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;i.isEven();)i.iushrn(1);var n=e.cmp(i);if(n<0){var o=e;e=i,i=o}else if(0===n||0===i.cmpn(1))break;e.isub(i)}return i.iushln(r)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,i=(t-e)/26,n=1<<e;if(this.length<=i)return this._expand(i+1),this.words[i]|=n,this;for(var o=n,s=i;0!==o&&s<this.length;s++){var h=0|this.words[s];o=(h+=o)>>>26,h&=67108863,this.words[s]=h}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,i=t<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this._strip(),this.length>1)e=1;else{i&&(t=-t),r(t<=67108863,"Number is too big");var n=0|this.words[0];e=n===t?0:n<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,i=this.length-1;i>=0;i--){var r=0|this.words[i],n=0|t.words[i];if(r!==n){r<n?e=-1:r>n&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new S(t)},o.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var M={k256:null,p224:null,p192:null,p25519:null};function b(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function _(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function A(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function k(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function P(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},b.prototype.ireduce=function(t){var e,i=t;do{this.split(i,this.tmp),e=(i=(i=this.imulK(i)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:i.ucmp(this.p);return 0===r?(i.words[0]=0,i.length=1):r>0?i.isub(this.p):void 0!==i.strip?i.strip():i._strip(),i},b.prototype.split=function(t,e){t.iushrn(this.n,0,e)},b.prototype.imulK=function(t){return t.imul(this.k)},n(_,b),_.prototype.split=function(t,e){for(var i=Math.min(t.length,9),r=0;r<i;r++)e.words[r]=t.words[r];if(e.length=i,t.length<=9)return t.words[0]=0,void(t.length=1);var n=t.words[9];for(e.words[e.length++]=4194303&n,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(4194303&o)<<4|n>>>22,n=o}n>>>=22,t.words[r-10]=n,0===n&&t.length>10?t.length-=10:t.length-=9},_.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,i=0;i<t.length;i++){var r=0|t.words[i];e+=977*r,t.words[i]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(A,b),n(E,b),n(k,b),k.prototype.imulK=function(t){for(var e=0,i=0;i<t.length;i++){var r=19*(0|t.words[i])+e,n=67108863&r;r>>>=26,t.words[i]=n,e=r}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(M[t])return M[t];var e;if("k256"===t)e=new _;else if("p224"===t)e=new A;else if("p192"===t)e=new E;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new k}return M[t]=e,e},S.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(l(t,t.umod(this.m)._forceRed(this)),t)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var i=t.add(e);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var i=t.iadd(e);return i.cmp(this.m)>=0&&i.isub(this.m),i},S.prototype.sub=function(t,e){this._verify2(t,e);var i=t.sub(e);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var i=t.isub(e);return i.cmpn(0)<0&&i.iadd(this.m),i},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var i=this.m.add(new o(1)).iushrn(2);return this.pow(t,i)}for(var n=this.m.subn(1),s=0;!n.isZero()&&0===n.andln(1);)s++,n.iushrn(1);r(!n.isZero());var h=new o(1).toRed(this),a=h.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(a);)l.redIAdd(a);for(var f=this.pow(l,n),c=this.pow(t,n.addn(1).iushrn(1)),d=this.pow(t,n),m=s;0!==d.cmp(h);){for(var p=d,g=0;0!==p.cmp(h);g++)p=p.redSqr();r(g<m);var y=this.pow(f,new o(1).iushln(m-g-1));c=c.redMul(y),f=y.redSqr(),d=d.redMul(f),m=g}return c},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var i=new Array(16);i[0]=new o(1).toRed(this),i[1]=t;for(var r=2;r<i.length;r++)i[r]=this.mul(i[r-1],t);var n=i[0],s=0,h=0,a=e.bitLength()%26;for(0===a&&(a=26),r=e.length-1;r>=0;r--){for(var u=e.words[r],l=a-1;l>=0;l--){var f=u>>l&1;n!==i[0]&&(n=this.sqr(n)),0!==f||0!==s?(s<<=1,s|=f,(4===++h||0===r&&0===l)&&(n=this.mul(n,i[s]),h=0,s=0)):h=0}a=26}return n},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new P(t)},n(P,S),P.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},P.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},P.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var i=t.imul(e),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=i.isub(r).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},P.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var i=t.mul(e),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=i.isub(r).iushrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):n.cmpn(0)<0&&(s=n.iadd(this.m)),s._forceRed(this)},P.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)}).call(this,i(63)(t))},356:function(t,e,i){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,i,r){void 0===r&&(r=i),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,r){void 0===r&&(r=i),t[r]=e[i]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__decorate||function(t,e,i,r){var n,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,r);else for(var h=t.length-1;h>=0;h--)(n=t[h])&&(s=(o<3?n(s):o>3?n(e,i,s):n(e,i))||s);return o>3&&s&&Object.defineProperty(e,i,s),s},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.hasOwnProperty.call(t,i)&&r(e,t,i);return n(e,t),e},h=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.deserializeUnchecked=e.deserialize=e.serialize=e.BinaryReader=e.BinaryWriter=e.BorshError=e.baseDecode=e.baseEncode=void 0;const a=h(i(2925)),u=h(i(42)),l=s(i(544)),f=new("function"!=typeof global.TextDecoder?l.TextDecoder:global.TextDecoder)("utf-8",{fatal:!0});e.baseEncode=function(t){return"string"==typeof t&&(t=Buffer.from(t,"utf8")),u.default.encode(Buffer.from(t))},e.baseDecode=function(t){return Buffer.from(u.default.decode(t))};class BorshError extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}e.BorshError=BorshError;class BinaryWriter{constructor(){this.buf=Buffer.alloc(1024),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(1024)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(Buffer.from(new a.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(Buffer.from(new a.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(Buffer.from(new a.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(Buffer.from(new a.default(t).toArray("le",64)))}writeBuffer(t){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),t,Buffer.alloc(1024)]),this.length+=t.length}writeString(t){this.maybeResize();const e=Buffer.from(t,"utf8");this.writeU32(e.length),this.writeBuffer(e)}writeFixedArray(t){this.writeBuffer(Buffer.from(t))}writeArray(t,e){this.maybeResize(),this.writeU32(t.length);for(const i of t)this.maybeResize(),e(i)}toArray(){return this.buf.subarray(0,this.length)}}function c(t,e,i){const r=i.value;i.value=function(...t){try{return r.apply(this,t)}catch(t){if(t instanceof RangeError){const e=t.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(e)>=0)throw new BorshError("Reached the end of buffer when deserializing")}throw t}}}e.BinaryWriter=BinaryWriter;class BinaryReader{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new a.default(t,"le")}readU128(){const t=this.readBuffer(16);return new a.default(t,"le")}readU256(){const t=this.readBuffer(32);return new a.default(t,"le")}readU512(){const t=this.readBuffer(64);return new a.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new BorshError(`Expected buffer length ${t} isn't within bounds`);const e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){const t=this.readU32(),e=this.readBuffer(t);try{return f.decode(e)}catch(t){throw new BorshError("Error decoding UTF-8 string: "+t)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const e=this.readU32(),i=Array();for(let r=0;r<e;++r)i.push(t());return i}}function d(t){return t.charAt(0).toUpperCase()+t.slice(1)}function m(t,e,i,r,n){try{if("string"==typeof r)n["write"+d(r)](i);else if(r instanceof Array)if("number"==typeof r[0]){if(i.length!==r[0])throw new BorshError(`Expecting byte array of length ${r[0]}, but got ${i.length} bytes`);n.writeFixedArray(i)}else if(2===r.length&&"number"==typeof r[1]){if(i.length!==r[1])throw new BorshError(`Expecting byte array of length ${r[1]}, but got ${i.length} bytes`);for(let e=0;e<r[1];e++)m(t,null,i[e],r[0],n)}else n.writeArray(i,i=>{m(t,e,i,r[0],n)});else if(void 0!==r.kind)switch(r.kind){case"option":null==i?n.writeU8(0):(n.writeU8(1),m(t,e,i,r.type,n));break;default:throw new BorshError(`FieldType ${r} unrecognized`)}else p(t,i,n)}catch(t){throw t instanceof BorshError&&t.addToFieldPath(e),t}}function p(t,e,i){if("function"==typeof e.borshSerialize)return void e.borshSerialize(i);const r=t.get(e.constructor);if(!r)throw new BorshError(`Class ${e.constructor.name} is missing in schema`);if("struct"===r.kind)r.fields.map(([r,n])=>{m(t,r,e[r],n,i)});else{if("enum"!==r.kind)throw new BorshError(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`);{const n=e[r.field];for(let o=0;o<r.values.length;++o){const[s,h]=r.values[o];if(s===n){i.writeU8(o),m(t,s,e[s],h,i);break}}}}}function g(t,e,i,r){try{if("string"==typeof i)return r["read"+d(i)]();if(i instanceof Array){if("number"==typeof i[0])return r.readFixedArray(i[0]);if("number"==typeof i[1]){const e=[];for(let n=0;n<i[1];n++)e.push(g(t,null,i[0],r));return e}return r.readArray(()=>g(t,e,i[0],r))}if("option"===i.kind){return r.readU8()?g(t,e,i.type,r):void 0}return y(t,i,r)}catch(t){throw t instanceof BorshError&&t.addToFieldPath(e),t}}function y(t,e,i){if("function"==typeof e.borshDeserialize)return e.borshDeserialize(i);const r=t.get(e);if(!r)throw new BorshError(`Class ${e.name} is missing in schema`);if("struct"===r.kind){const r={};for(const[n,o]of t.get(e).fields)r[n]=g(t,n,o,i);return new e(r)}if("enum"===r.kind){const n=i.readU8();if(n>=r.values.length)throw new BorshError(`Enum index: ${n} is out of range`);const[o,s]=r.values[n];return new e({[o]:g(t,o,s,i)})}throw new BorshError(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}o([c],BinaryReader.prototype,"readU8",null),o([c],BinaryReader.prototype,"readU16",null),o([c],BinaryReader.prototype,"readU32",null),o([c],BinaryReader.prototype,"readU64",null),o([c],BinaryReader.prototype,"readU128",null),o([c],BinaryReader.prototype,"readU256",null),o([c],BinaryReader.prototype,"readU512",null),o([c],BinaryReader.prototype,"readString",null),o([c],BinaryReader.prototype,"readFixedArray",null),o([c],BinaryReader.prototype,"readArray",null),e.BinaryReader=BinaryReader,e.serialize=function(t,e,i=BinaryWriter){const r=new i;return p(t,e,r),r.toArray()},e.deserialize=function(t,e,i,r=BinaryReader){const n=new r(i),o=y(t,e,n);if(n.offset<i.length)throw new BorshError(`Unexpected ${i.length-n.offset} bytes after deserialized data`);return o},e.deserializeUnchecked=function(t,e,i,r=BinaryReader){return y(t,e,new r(i))}},358:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.logWarning=e.ErrorContext=e.TypedError=e.ArgumentTypeError=e.PositionalArgsError=void 0;class PositionalArgsError extends Error{constructor(){super("Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }")}}e.PositionalArgsError=PositionalArgsError;class ArgumentTypeError extends Error{constructor(t,e,i){super(`Expected ${e} for '${t}' argument, but got '${JSON.stringify(i)}'`)}}e.ArgumentTypeError=ArgumentTypeError;class TypedError extends Error{constructor(t,e,i){super(t),this.type=e||"UntypedError",this.context=i}}e.TypedError=TypedError;e.ErrorContext=class ErrorContext{constructor(t){this.transactionHash=t}},e.logWarning=function(...t){process.env.NEAR_NO_LOGS||console.warn(...t)}},547:function(t,e,i){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.fetchJson=void 0;const n=r(i(2929)),o=r(i(796)),s=i(446),h=i(358);e.fetchJson=async function(t,e){let i={url:null};"string"==typeof t?i.url=t:i=t;const r=await o.default(1e3,10,1.5,async()=>{try{const t=await fetch(i.url,{method:e?"POST":"GET",body:e||void 0,headers:{...i.headers,"Content-Type":"application/json"}});if(!t.ok){if(503===t.status)return h.logWarning(`Retrying HTTP request for ${i.url} as it's not available now`),null;throw n.default(t.status,await t.text())}return t}catch(t){if(t.toString().includes("FetchError")||t.toString().includes("Failed to fetch"))return h.logWarning(`Retrying HTTP request for ${i.url} because of error: ${t}`),null;throw t}});if(!r)throw new s.TypedError(`Exceeded 10 attempts for ${i.url}.`,"RetriesExceeded");return await r.json()}},548:function(t,e,i){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.signTransaction=e.createTransaction=e.SCHEMA=e.Action=e.SignedTransaction=e.Transaction=e.Signature=e.deleteAccount=e.deleteKey=e.addKey=e.stake=e.transfer=e.functionCall=e.stringifyJsonOrBytes=e.deployContract=e.createAccount=e.DeleteAccount=e.DeleteKey=e.AddKey=e.Stake=e.Transfer=e.FunctionCall=e.DeployContract=e.CreateAccount=e.IAction=e.functionCallAccessKey=e.fullAccessKey=e.AccessKey=e.AccessKeyPermission=e.FullAccessPermission=e.FunctionCallPermission=void 0;const n=r(i(798)),o=i(795),s=i(356),h=i(238);class FunctionCallPermission extends o.Assignable{}e.FunctionCallPermission=FunctionCallPermission;class FullAccessPermission extends o.Assignable{}e.FullAccessPermission=FullAccessPermission;class AccessKeyPermission extends o.Enum{}e.AccessKeyPermission=AccessKeyPermission;class AccessKey extends o.Assignable{}e.AccessKey=AccessKey,e.fullAccessKey=function(){return new AccessKey({nonce:0,permission:new AccessKeyPermission({fullAccess:new FullAccessPermission({})})})},e.functionCallAccessKey=function(t,e,i){return new AccessKey({nonce:0,permission:new AccessKeyPermission({functionCall:new FunctionCallPermission({receiverId:t,allowance:i,methodNames:e})})})};class IAction extends o.Assignable{}e.IAction=IAction;class CreateAccount extends IAction{}e.CreateAccount=CreateAccount;class DeployContract extends IAction{}e.DeployContract=DeployContract;class FunctionCall extends IAction{}e.FunctionCall=FunctionCall;class Transfer extends IAction{}e.Transfer=Transfer;class Stake extends IAction{}e.Stake=Stake;class AddKey extends IAction{}e.AddKey=AddKey;class DeleteKey extends IAction{}e.DeleteKey=DeleteKey;class DeleteAccount extends IAction{}function a(t){return void 0!==t.byteLength&&t.byteLength===t.length?t:Buffer.from(JSON.stringify(t))}e.DeleteAccount=DeleteAccount,e.createAccount=function(){return new Action({createAccount:new CreateAccount({})})},e.deployContract=function(t){return new Action({deployContract:new DeployContract({code:t})})},e.stringifyJsonOrBytes=a,e.functionCall=function(t,e,i,r,n=a){return new Action({functionCall:new FunctionCall({methodName:t,args:n(e),gas:i,deposit:r})})},e.transfer=function(t){return new Action({transfer:new Transfer({deposit:t})})},e.stake=function(t,e){return new Action({stake:new Stake({stake:t,publicKey:e})})},e.addKey=function(t,e){return new Action({addKey:new AddKey({publicKey:t,accessKey:e})})},e.deleteKey=function(t){return new Action({deleteKey:new DeleteKey({publicKey:t})})},e.deleteAccount=function(t){return new Action({deleteAccount:new DeleteAccount({beneficiaryId:t})})};class Signature extends o.Assignable{}e.Signature=Signature;class Transaction extends o.Assignable{encode(){return s.serialize(e.SCHEMA,this)}static decode(t){return s.deserialize(e.SCHEMA,Transaction,t)}}e.Transaction=Transaction;class SignedTransaction extends o.Assignable{encode(){return s.serialize(e.SCHEMA,this)}static decode(t){return s.deserialize(e.SCHEMA,SignedTransaction,t)}}e.SignedTransaction=SignedTransaction;class Action extends o.Enum{}function u(t,e,i,r,n,o){return new Transaction({signerId:t,publicKey:e,nonce:r,receiverId:i,actions:n,blockHash:o})}async function l(t,i,r,o){const h=s.serialize(e.SCHEMA,t),a=new Uint8Array(n.default.sha256.array(h)),u=await i.signMessage(h,r,o);return[a,new SignedTransaction({transaction:t,signature:new Signature({keyType:t.publicKey.keyType,data:u.signature})})]}e.Action=Action,e.SCHEMA=new Map([[Signature,{kind:"struct",fields:[["keyType","u8"],["data",[64]]]}],[SignedTransaction,{kind:"struct",fields:[["transaction",Transaction],["signature",Signature]]}],[Transaction,{kind:"struct",fields:[["signerId","string"],["publicKey",h.PublicKey],["nonce","u64"],["receiverId","string"],["blockHash",[32]],["actions",[Action]]]}],[h.PublicKey,{kind:"struct",fields:[["keyType","u8"],["data",[32]]]}],[AccessKey,{kind:"struct",fields:[["nonce","u64"],["permission",AccessKeyPermission]]}],[AccessKeyPermission,{kind:"enum",field:"enum",values:[["functionCall",FunctionCallPermission],["fullAccess",FullAccessPermission]]}],[FunctionCallPermission,{kind:"struct",fields:[["allowance",{kind:"option",type:"u128"}],["receiverId","string"],["methodNames",["string"]]]}],[FullAccessPermission,{kind:"struct",fields:[]}],[Action,{kind:"enum",field:"enum",values:[["createAccount",CreateAccount],["deployContract",DeployContract],["functionCall",FunctionCall],["transfer",Transfer],["stake",Stake],["addKey",AddKey],["deleteKey",DeleteKey],["deleteAccount",DeleteAccount]]}],[CreateAccount,{kind:"struct",fields:[]}],[DeployContract,{kind:"struct",fields:[["code",["u8"]]]}],[FunctionCall,{kind:"struct",fields:[["methodName","string"],["args",["u8"]],["gas","u64"],["deposit","u128"]]}],[Transfer,{kind:"struct",fields:[["deposit","u128"]]}],[Stake,{kind:"struct",fields:[["stake","u128"],["publicKey",h.PublicKey]]}],[AddKey,{kind:"struct",fields:[["publicKey",h.PublicKey],["accessKey",AccessKey]]}],[DeleteKey,{kind:"struct",fields:[["publicKey",h.PublicKey]]}],[DeleteAccount,{kind:"struct",fields:[["beneficiaryId","string"]]}]]),e.createTransaction=u,e.signTransaction=async function(...t){if(t[0].constructor===Transaction){const[e,i,r,n]=t;return l(e,i,r,n)}{const[e,i,r,n,o,s,h]=t;return l(u(s,await o.getPublicKey(s,h),e,i,r,n),o,s,h)}}},795:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Assignable=e.Enum=void 0;e.Enum=class Enum{constructor(t){if(1!==Object.keys(t).length)throw new Error("Enum can only take single value");Object.keys(t).map(e=>{this[e]=t[e],this.enum=e})}};e.Assignable=class Assignable{constructor(t){Object.keys(t).map(e=>{this[e]=t[e]})}}},796:function(t,e,i){"use strict";function r(t){return new Promise(e=>setTimeout(e,t))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=async function(t,e,i,n){let o=t;for(let t=0;t<e;t++){const t=await n();if(t)return t;await r(o),o*=i}return null}},797:function(t,e,i){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.getErrorTypeFromErrorMessage=e.formatError=e.parseResultError=e.parseRpcError=e.ServerError=void 0;const n=r(i(2935)),o=r(i(2936)),s=r(i(2937)),h=i(1352),a=i(358),u={formatNear:()=>(t,e)=>h.utils.format.formatNearAmount(e(t))};class ServerError extends a.TypedError{}e.ServerError=ServerError;class ServerTransactionError extends ServerError{}function l(t){const e={},i=function t(e,i,r,n){let o,s,h;for(const t in i){if(a=e[t],"[object String]"===Object.prototype.toString.call(a))return e[t];if(c(e[t]))o=e[t],s=i[t],h=t;else{if(!c(e.kind)||!c(e.kind[t]))continue;o=e.kind[t],s=i[t],h=t}}var a;if(o&&s){for(const t of Object.keys(s.props))r[t]=o[t];return t(o,i,r,h)}return r.kind=e,n}(t,o.default.schema,e,""),r=new ServerError(f(i,e),i);return Object.assign(r,e),r}function f(t,e){return"string"==typeof s.default[t]?n.default.render(s.default[t],{...e,...u}):JSON.stringify(e)}function c(t){return"[object Object]"===Object.prototype.toString.call(t)}e.parseRpcError=l,e.parseResultError=function(t){const e=l(t.status.Failure),i=new ServerTransactionError;return Object.assign(i,e),i.type=e.type,i.message=e.message,i.transaction_outcome=t.transaction_outcome,i},e.formatError=f,e.getErrorTypeFromErrorMessage=function(t){switch(!0){case/^account .*? does not exist while viewing$/.test(t):case/^Account .*? doesn't exist$/.test(t):return"AccountDoesNotExist";case/^access key .*? does not exist while viewing$/.test(t):return"AccessKeyDoesNotExist";case/wasm execution failed with error: FunctionCallError\(CompilationError\(CodeDoesNotExist/.test(t):return"CodeDoesNotExist";case/Transaction nonce \d+ must be larger than nonce of the used access key \d+/.test(t):return"InvalidNonce";default:return"UntypedError"}}}}]);